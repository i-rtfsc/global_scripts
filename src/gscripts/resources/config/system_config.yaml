# Global Scripts System Configuration
# 系统级配置文件 - 只包含实际使用的配置项
# 版本号从 VERSION 文件动态加载

# ============= 项目信息 =============
project:
  name: "Global Scripts"
  default_author: "Unknown"
  # version: 动态从 VERSION 文件加载

# ============= 目录路径 =============
paths:
  # 用户级目录 (相对于 ~/.config/global-scripts)
  gs_home: ".config/global-scripts"
  config_dir: "config"
  cache_dir: "cache"
  logs_dir: "logs"
  temp_dir: "tmp"

  # 项目级目录 (相对于项目根目录)
  plugins_dir: "plugins"
  custom_dir: "custom"
  templates_dir: "templates"
  schemas_dir: "schemas"
  themes_dir: "themes"

# ============= 文件名配置 =============
files:
  main_config: "gs.json"
  i18n_config: "i18n.json"
  plugin_schema: "plugin-schema.json"
  plugin_template: "plugin.json.template"
  plugin_json: "plugin.json"
  plugin_py: "plugin.py"
  plugin_sh: "plugin.sh"
  env_sh: "env.sh"
  env_fish: "env.fish"
  log_file: "gs.log"
  router_index: "router.json"

# ============= 插件配置 =============
plugins:
  supported_types:
    python: "Python"
    shell: "Shell"
    hybrid: "Hybrid"
    config: "Config"
    json: "JSON"

  priority:
    default: 10
    min: 1
    max: 100

# ============= 命令执行配置 =============
execution:
  # 超时配置 (秒)
  timeouts:
    default: 30
    short: 10
    long: 300

  # 执行限制
  limits:
    max_output_size: 1048576  # 1MB
    max_concurrent: 10
    max_command_length: 1000

  # 安全命令白名单
  safe_commands:
    # 文件系统操作
    filesystem:
      - ls
      - dir
      - pwd
      - cd
      - find
      - locate
      - which
      - whereis
      - cat
      - less
      - more
      - head
      - tail
      - grep
      - awk
      - sed
      - wc
      - sort
      - uniq
      - cut
      - tr
      - basename
      - dirname

    # 系统信息
    system:
      - ps
      - top
      - htop
      - df
      - du
      - free
      - uptime
      - uname
      - whoami
      - id
      - groups
      - env
      - printenv
      - date
      - cal
      - hostname
      - echo

    # 网络工具
    network:
      - ping
      - curl
      - wget
      - telnet
      - nslookup
      - dig
      - host

    # 版本控制
    vcs:
      - git
      - svn
      - hg

    # 开发工具
    development:
      - python
      - python3
      - pip
      - pip3
      - node
      - npm
      - yarn
      - java
      - javac
      - gcc
      - make
      - cmake

    # 容器工具
    containers:
      - docker
      - docker-compose
      - podman
      - kubectl
      - helm

    # 移动开发工具
    mobile:
      - adb
      - fastboot

    # 压缩工具
    compression:
      - tar
      - gzip
      - gunzip
      - zip
      - unzip
      - 7z

  # 危险命令黑名单
  dangerous_commands:
    - rm
    - rmdir
    - del
    - format
    - fdisk
    - mkfs
    - dd
    - shred
    - wipe
    - shutdown
    - reboot
    - halt
    - kill
    - killall
    - pkill
    - sudo
    - su

  # 禁止的命令模式
  forbidden_patterns:
    - "rm -rf /"
    - "format"
    - "mkfs"
    - "dd if="
    - "> /dev/"
    - "chmod 777"
    - "chown root"

# ============= 语言配置 =============
language:
  default: "en"
  supported:
    - en
    - zh

# ============= 系统命令配置 =============
commands:
  # 系统级命令 (无别名)
  system:
    - help
    - version
    - status
    - refresh
    - doctor
    - parser
    - plugin

  # 插件管理命令
  plugin_management:
    - create
    - disable
    - enable
    - info
    - list

# ============= 缓存配置 =============
cache:
  default_ttl: 300        # 5分钟 (秒)
  max_entries: 100

# ============= 日志配置 =============
logging:
  # 日志级别
  levels:
    DEBUG: 10
    INFO: 20
    WARNING: 30
    ERROR: 40
    CRITICAL: 50
    VERBOSE: 15          # 自定义级别，介于 DEBUG 和 INFO 之间
    NONE: 1000           # 禁用日志

  # 日志级别别名 (简写)
  level_aliases:
    E: "ERROR"
    W: "WARNING"
    I: "INFO"
    D: "DEBUG"
    V: "VERBOSE"
    NANO: "NONE"

  # 日志文件配置
  max_file_size: 10485760  # 10MB
  backup_count: 3
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  date_format: "%Y-%m-%d %H:%M:%S"

# ============= 退出码配置 =============
exit_codes:
  success: 0
  general_error: 1
  misuse: 2
  invalid_arguments: 2     # 参数错误 (与 misuse 相同)
  execution_error: 126
  command_not_found: 127
  plugin_not_found: 128    # 插件未找到
  timeout: 124
  interrupted: 130
  security_violation: 125

# ============= 状态常量 =============
status:
  enabled: "enabled"
  disabled: "disabled"
  error: "error"
  loading: "loading"
  unknown: "unknown"

# ============= UI 颜色配置 =============
# 注: ui.icons 已删除（未使用）
ui:
  colors:
    red: "\x1b[91m"
    green: "\x1b[92m"
    yellow: "\x1b[93m"
    blue: "\x1b[94m"
    magenta: "\x1b[95m"
    cyan: "\x1b[96m"
    white: "\x1b[97m"
    reset: "\x1b[0m"
    bold: "\x1b[1m"
    underline: "\x1b[4m"

# ============= 网络配置 =============
# 注: user_agent 在代码中动态生成为 "Global-Scripts/{version}"
# 其他未使用的字段已删除 (request_timeout, max_retry_attempts, retry_delay)
network:
  user_agent: "Global-Scripts/unknown"  # 动态生成

# ============= Shell 配置 =============
# 保留以支持 constants.SHELL_RELOAD_ALIAS 和 ENV_SH_FILE_NAME
shell:
  reload_alias: "gsreload"
  supported_shells:
    - bash
    - zsh
    - fish
  prompt_themes:
    - minimalist
    - bitstream
    - powerline
    - simple
