# Global Scripts V3 é¡¹ç›®æ€»ä½“è§„åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®èƒŒæ™¯
åŸºäºå¯¹ `custom/global_scripts-refactor-fail` æ·±åº¦åˆ†æï¼Œè¯¥é¡¹ç›®çš„æ¶æ„è®¾è®¡éå¸¸å…ˆè¿›ï¼Œä¸»è¦é—®é¢˜åœ¨äºV2å…¼å®¹æ€§æŠ€æœ¯å€ºåŠ¡ã€‚V3ç‰ˆæœ¬å°†å»é™¤V2å…¼å®¹æ€§ï¼Œä¿ç•™ä¼˜ç§€çš„æ¶æ„è®¾è®¡ï¼Œæ‰“é€ ç®€æ´é«˜æ•ˆçš„Shellå¼€å‘å·¥å…·æ¡†æ¶ã€‚

### 1.2 è®¾è®¡åŸåˆ™
- **ç®€å•è‡³ä¸Š**: åªä¾èµ–shell/pythonç¯å¢ƒï¼Œç”¨æˆ·å¼€ç®±å³ç”¨
- **æ¶æ„ä¼˜é›…**: ä¿ç•™å…ˆè¿›çš„åˆ†å±‚æ¶æ„å’Œæ¨¡å—åŒ–è®¾è®¡  
- **æœ¬åœ°ä¼˜å…ˆ**: æ’ä»¶ç³»ç»Ÿæœ¬åœ°åŒ–ï¼Œç±»ä¼¼oh-my-zshæ–¹å¼
- **æ€§èƒ½å¯¼å‘**: å¯åŠ¨æ—¶é—´<300msï¼Œå†…å­˜ä½¿ç”¨<30MB
- **å¼€å‘å‹å¥½**: å®Œæ•´çš„APIè®¾è®¡å’Œå¼€å‘å·¥å…·é“¾

### 1.3 æ ¸å¿ƒç›®æ ‡
- **åŠŸèƒ½å®Œæ•´æ€§**: è¦†ç›–V2æ ¸å¿ƒåŠŸèƒ½100%
- **æ€§èƒ½æå‡**: å¯åŠ¨æ€§èƒ½æå‡40%+ï¼Œå»é™¤V2å…¼å®¹æ€§å¼€é”€
- **æ¶æ„ç°ä»£åŒ–**: JSON Schemaé©±åŠ¨é…ç½®ï¼Œæ¨¡å—åŒ–æ’ä»¶ç³»ç»Ÿ
- **ç”¨æˆ·ä½“éªŒ**: æ™ºèƒ½Tabè¡¥å…¨ï¼Œå‹å¥½é”™è¯¯æç¤ºï¼Œè¯¦ç»†å¸®åŠ©ç³»ç»Ÿ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### 2.1 äº”å±‚ç®€åŒ–æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ç”¨æˆ·æ¥å£å±‚ (User Interface Layer)       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ CLIå‘½ä»¤æ¥å£ â”‚ â”‚ Tabè¡¥å…¨ç³»ç»Ÿ â”‚ â”‚ å¸®åŠ©æ–‡æ¡£    â”‚    â”‚
â”‚  â”‚ - gs-*å‘½ä»¤  â”‚ â”‚ - æ™ºèƒ½è¡¥å…¨  â”‚ â”‚ - åˆ†å±‚å¸®åŠ©  â”‚    â”‚
â”‚  â”‚ - å‚æ•°è§£æ  â”‚ â”‚ - å†å²è®°å½•  â”‚ â”‚ - ç¤ºä¾‹å±•ç¤º  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               å‘½ä»¤å¤„ç†å±‚ (Command Processing Layer)   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ å‘½ä»¤è·¯ç”±å™¨  â”‚ â”‚ å‚æ•°å¤„ç†å™¨  â”‚ â”‚ ç»“æœæ ¼å¼åŒ–  â”‚    â”‚
â”‚  â”‚ - åŠ¨æ€åˆ†å‘  â”‚ â”‚ - ç±»å‹è½¬æ¢  â”‚ â”‚ - å¤šæ ¼å¼è¾“å‡ºâ”‚    â”‚
â”‚  â”‚ - åˆ«åå±•å¼€  â”‚ â”‚ - éªŒè¯æ£€æŸ¥  â”‚ â”‚ - ç®¡é“æ”¯æŒ  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                æ’ä»¶æœåŠ¡å±‚ (Plugin Service Layer)      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æ’ä»¶ç®¡ç†å™¨  â”‚ â”‚ æ’ä»¶åŠ è½½å™¨  â”‚ â”‚ æ’ä»¶API    â”‚    â”‚
â”‚  â”‚ - å‘ç°æ‰«æ  â”‚ â”‚ - æ‡’åŠ è½½    â”‚ â”‚ - ç»Ÿä¸€æ¥å£  â”‚    â”‚
â”‚  â”‚ - çŠ¶æ€ç®¡ç†  â”‚ â”‚ - ä¾èµ–è§£æ  â”‚ â”‚ - é’©å­ç³»ç»Ÿ  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              æ ¸å¿ƒæœåŠ¡å±‚ (Core Service Layer)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ é…ç½®ç®¡ç†    â”‚ â”‚ ç¼“å­˜ç³»ç»Ÿ    â”‚ â”‚ æ€§èƒ½ç›‘æ§    â”‚    â”‚
â”‚  â”‚ - JSONé…ç½®  â”‚ â”‚ - å†…å­˜ç¼“å­˜  â”‚ â”‚ - å¯åŠ¨ç›‘æ§  â”‚    â”‚
â”‚  â”‚ - SchemaéªŒè¯â”‚ â”‚ - ç£ç›˜ç¼“å­˜  â”‚ â”‚ - æ€§èƒ½ç»Ÿè®¡  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æ—¥å¿—ç³»ç»Ÿ    â”‚ â”‚ é”™è¯¯å¤„ç†    â”‚ â”‚ å·¥å…·åº“      â”‚    â”‚
â”‚  â”‚ - å¤šçº§æ—¥å¿—  â”‚ â”‚ - ç»Ÿä¸€é”™è¯¯  â”‚ â”‚ - è·¨å¹³å°    â”‚    â”‚
â”‚  â”‚ - å½©è‰²è¾“å‡º  â”‚ â”‚ - é”™è¯¯æ¢å¤  â”‚ â”‚ - å·¥å…·å‡½æ•°  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æŠ€æœ¯æ ˆé€‰æ‹©

#### æ ¸å¿ƒæŠ€æœ¯æ ˆï¼ˆå¿…éœ€ï¼‰
- **Shell**: bash 4.0+, zsh 5.0+ (ç”¨æˆ·ç¯å¢ƒè‡ªå¸¦)
- **Python**: 3.6+ (ç³»ç»Ÿè‡ªå¸¦æˆ–æ˜“äºå®‰è£…)
- **JSON**: jqå·¥å…· (é…ç½®å¤„ç†ï¼Œå¤§å¤šæ•°ç³»ç»Ÿè‡ªå¸¦)

#### å¯é€‰æŠ€æœ¯æ ˆï¼ˆæ’ä»¶å½¢å¼ï¼‰
- **Go**: ä»…ä½œä¸ºé«˜æ€§èƒ½æ’ä»¶é€‰é¡¹ï¼Œç”¨æˆ·å¯é€‰å®‰è£…
- **Rust**: ä»…ä½œä¸ºå®‰å…¨å¢å¼ºæ’ä»¶é€‰é¡¹ï¼Œç”¨æˆ·å¯é€‰å®‰è£…
- **Node.js**: ä»…ä½œä¸ºWebç›¸å…³æ’ä»¶é€‰é¡¹

### 2.3 ä¾èµ–æœ€å°åŒ–ç­–ç•¥
```bash
# å¿…éœ€ä¾èµ–ï¼ˆç³»ç»Ÿè‡ªå¸¦ï¼‰
required_dependencies=(
    "bash"      # Shellç¯å¢ƒ
    "python"   # Pythonè¿è¡Œæ—¶
    "jq"        # JSONå¤„ç†
    "curl"      # HTTPè¯·æ±‚
    "git"       # ç‰ˆæœ¬æ§åˆ¶
)

# å¯é€‰ä¾èµ–ï¼ˆåŠŸèƒ½å¢å¼ºï¼‰
optional_dependencies=(
    "fzf"       # æ¨¡ç³Šæœç´¢å¢å¼ºTabè¡¥å…¨
    "bat"       # è¯­æ³•é«˜äº®æ˜¾ç¤º
    "fd"        # æ›´å¿«çš„æ–‡ä»¶æŸ¥æ‰¾
)

# æ’ä»¶ä¾èµ–ï¼ˆæŒ‰éœ€å®‰è£…ï¼‰
plugin_dependencies=(
    "adb"       # Androidå¼€å‘éœ€è¦
    "docker"    # Dockeræ’ä»¶éœ€è¦
    "kubectl"   # Kubernetesæ’ä»¶éœ€è¦
)
```

## ğŸ“ ç›®å½•ç»“æ„è®¾è®¡

### 3.1 é¡¹ç›®ç»“æ„
```bash
global_scripts-refactor/
â”œâ”€â”€ gs_env.sh                    # ä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ VERSION                      # ç‰ˆæœ¬ä¿¡æ¯
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ LICENSE                      # å¼€æºè®¸å¯è¯
â”œâ”€â”€ install.sh                   # å®‰è£…è„šæœ¬
â”œâ”€â”€ uninstall.sh                 # å¸è½½è„šæœ¬
â”‚
â”œâ”€â”€ core/                        # æ ¸å¿ƒæœåŠ¡å±‚
â”‚   â”œâ”€â”€ bootstrap.sh            # ç³»ç»Ÿå¼•å¯¼ç¨‹åº
â”‚   â”œâ”€â”€ loader.sh               # æ’ä»¶åŠ è½½å™¨
â”‚   â”œâ”€â”€ registry.sh             # å‘½ä»¤æ³¨å†Œè¡¨
â”‚   â”œâ”€â”€ cache.sh                # ç¼“å­˜ç®¡ç†ç³»ç»Ÿ
â”‚   â””â”€â”€ config.sh               # é…ç½®ç®¡ç†æ ¸å¿ƒ
â”‚
â”œâ”€â”€ lib/                         # åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ logger.sh               # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ error.sh                # é”™è¯¯å¤„ç†æ¡†æ¶
â”‚   â”œâ”€â”€ utils.sh                # é€šç”¨å·¥å…·åº“
â”‚   â”œâ”€â”€ performance.sh          # æ€§èƒ½ç›‘æ§
â”‚   â””â”€â”€ platform.sh             # è·¨å¹³å°é€‚é…
â”‚
â”œâ”€â”€ api/                         # APIæ¥å£å±‚
â”‚   â”œâ”€â”€ plugin_api.sh           # æ’ä»¶å¼€å‘API
â”‚   â”œâ”€â”€ config_api.sh           # é…ç½®ç®¡ç†API
â”‚   â”œâ”€â”€ command_api.sh          # å‘½ä»¤å¤„ç†API
â”‚   â””â”€â”€ completion_api.sh       # è¡¥å…¨ç³»ç»ŸAPI
â”‚
â”œâ”€â”€ plugins/                     # å†…ç½®æ’ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ android/                # Androidå¼€å‘å·¥å…·é›†
â”‚   â”‚   â”œâ”€â”€ manifest.json       # ä¸»æ’ä»¶æ¸…å•
â”‚   â”‚   â”œâ”€â”€ android.sh          # ä¸»å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ adb/                # ADBå·¥å…·å­æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ manifest.json   # ADBå­æ¨¡å—æ¸…å•
â”‚   â”‚   â”‚   â””â”€â”€ adb_tools.sh    # ADBåŠŸèƒ½å®ç°
â”‚   â”‚   â”œâ”€â”€ fastboot/           # Fastbootå­æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ manifest.json
â”‚   â”‚   â”‚   â””â”€â”€ fastboot_tools.sh
â”‚   â”‚   â”œâ”€â”€ perfetto/           # æ€§èƒ½åˆ†æå­æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ manifest.json
â”‚   â”‚   â”‚   â””â”€â”€ perfetto_tools.sh
â”‚   â”‚   â””â”€â”€ README.md           # æ’ä»¶ä½¿ç”¨æ–‡æ¡£
â”‚   â”œâ”€â”€ git/                    # Gitå¢å¼ºå·¥å…·é›†
â”‚   â”‚   â”œâ”€â”€ manifest.json       # ä¸»æ’ä»¶æ¸…å•
â”‚   â”‚   â”œâ”€â”€ git.sh              # Gitä¸»å…¥å£
â”‚   â”‚   â”œâ”€â”€ branch/             # åˆ†æ”¯ç®¡ç†å­æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ manifest.json
â”‚   â”‚   â”‚   â””â”€â”€ branch_tools.sh
â”‚   â”‚   â”œâ”€â”€ commit/             # æäº¤ç®¡ç†å­æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ manifest.json
â”‚   â”‚   â”‚   â””â”€â”€ commit_tools.sh
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ system/                 # ç³»ç»Ÿç®¡ç†å·¥å…·
â”‚   â”‚   â”œâ”€â”€ manifest.json       # ä¸»æ’ä»¶æ¸…å•
â”‚   â”‚   â”œâ”€â”€ system.sh           # ç³»ç»Ÿä¸»å…¥å£
â”‚   â”‚   â”œâ”€â”€ proxy/              # ä»£ç†ç®¡ç†å­æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ manifest.json
â”‚   â”‚   â”‚   â””â”€â”€ proxy_tools.sh
â”‚   â”‚   â”œâ”€â”€ network/            # ç½‘ç»œå·¥å…·å­æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ manifest.json
â”‚   â”‚   â”‚   â””â”€â”€ network_tools.sh
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â””â”€â”€ .gitkeep
â”‚
â”œâ”€â”€ custom/                      # ç”¨æˆ·è‡ªå®šä¹‰æ’ä»¶ç›®å½• (.gitignore)
â”‚   â”œâ”€â”€ .gitignore              # å¿½ç•¥ç”¨æˆ·æ’ä»¶
â”‚   â””â”€â”€ README.md               # è‡ªå®šä¹‰æ’ä»¶è¯´æ˜
â”‚
â”œâ”€â”€ config/                      # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ schema/                 # JSON Schemaå®šä¹‰
â”‚   â”‚   â”œâ”€â”€ core.schema.json    # æ ¸å¿ƒé…ç½®Schema
â”‚   â”‚   â””â”€â”€ plugin.schema.json  # æ’ä»¶é…ç½®Schema
â”‚   â”œâ”€â”€ default.json            # é»˜è®¤é…ç½®
â”‚   â””â”€â”€ examples/               # é…ç½®ç¤ºä¾‹
â”‚
â”œâ”€â”€ completion/                  # Tabè¡¥å…¨ç³»ç»Ÿ
â”‚   â”œâ”€â”€ completion_generator.sh  # è‡ªåŠ¨è¡¥å…¨ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ _gs_completion.sh       # è¡¥å…¨æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ bash_completion         # Bashè¡¥å…¨è„šæœ¬
â”‚   â”œâ”€â”€ zsh_completion          # Zshè¡¥å…¨è„šæœ¬
â”‚   â””â”€â”€ .completion_cache/      # è¡¥å…¨ç¼“å­˜(.gitignore)
â”‚
â”œâ”€â”€ tests/                       # æµ‹è¯•ç³»ç»Ÿ
â”‚   â”œâ”€â”€ unit/                   # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/            # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ performance/            # æ€§èƒ½æµ‹è¯•
â”‚   â””â”€â”€ test_runner.sh          # æµ‹è¯•è¿è¡Œå™¨
â”‚
â”œâ”€â”€ tools/                       # å¼€å‘å·¥å…·
â”‚   â”œâ”€â”€ plugin_generator.sh     # æ’ä»¶ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ config_validator.sh     # é…ç½®éªŒè¯å™¨
â”‚   â”œâ”€â”€ health_check.sh         # å¥åº·æ£€æŸ¥
â”‚   â””â”€â”€ migration/              # V2è¿ç§»å·¥å…·
â”‚
â”œâ”€â”€ docs/                        # æ–‡æ¡£ç³»ç»Ÿ
â”‚   â”œâ”€â”€ é¡¹ç›®è®¡åˆ’/               # é¡¹ç›®ç®¡ç†æ–‡æ¡£
â”‚   â”œâ”€â”€ è½¯ä»¶è®¾è®¡/               # æŠ€æœ¯è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ ç³»ç»Ÿåˆ†æ/               # éœ€æ±‚åˆ†ææ–‡æ¡£
â”‚   â””â”€â”€ ç”¨æˆ·æŒ‡å—/               # ç”¨æˆ·ä½¿ç”¨æ–‡æ¡£
â”‚
â””â”€â”€ scripts/                     # æ„å»ºè„šæœ¬
    â”œâ”€â”€ build.sh                # æ„å»ºè„šæœ¬
    â”œâ”€â”€ package.sh              # æ‰“åŒ…è„šæœ¬
    â”œâ”€â”€ lint.sh                 # ä»£ç æ£€æŸ¥
    â””â”€â”€ ci/                     # CI/CDè„šæœ¬
```

### 3.2 æ’ä»¶ç³»ç»Ÿè®¾è®¡

#### oh-my-zshé£æ ¼çš„æ’ä»¶ç®¡ç†
```bash
# æ’ä»¶ç›®å½•ç»“æ„
plugins/
â”œâ”€â”€ android/                    # å†…ç½®æ’ä»¶
â”‚   â”œâ”€â”€ manifest.json          # æ’ä»¶å…ƒæ•°æ®
â”‚   â”œâ”€â”€ android.sh             # ä¸»è¦åŠŸèƒ½
â”‚   â”œâ”€â”€ completion.sh          # Tabè¡¥å…¨æ”¯æŒ
â”‚   â””â”€â”€ README.md              # æ’ä»¶æ–‡æ¡£
â”‚
custom/                         # ç”¨æˆ·è‡ªå®šä¹‰æ’ä»¶ (.gitignore)
â”œâ”€â”€ my_plugin/                  # ç”¨æˆ·æ’ä»¶ç¤ºä¾‹
â”‚   â”œâ”€â”€ manifest.json
â”‚   â”œâ”€â”€ my_plugin.sh
â”‚   â””â”€â”€ README.md
â””â”€â”€ company_tools/              # å…¬å¸å†…éƒ¨å·¥å…·
    â”œâ”€â”€ manifest.json
    â””â”€â”€ company_tools.sh

# æ’ä»¶åŠ è½½é…ç½® (~/.gs/config.json)
{
  "plugins": {
    "enabled": [
      "android",        # å†…ç½®æ’ä»¶
      "git", 
      "system",
      "my_plugin",      # è‡ªå®šä¹‰æ’ä»¶
      "company_tools"
    ],
    "disabled": [
      "docker"          # æš‚æ—¶ç¦ç”¨çš„æ’ä»¶
    ]
  }
}
```

## ğŸ¯ åŠŸèƒ½è§„åˆ’

### 4.1 æ ¸å¿ƒå‘½ä»¤ç³»ç»Ÿ

#### ç³»ç»Ÿç®¡ç†å‘½ä»¤
```bash
# å¸®åŠ©ç³»ç»Ÿ
gs-help                        # æ˜¾ç¤ºæ€»ä½“å¸®åŠ©
gs-help <command>              # æ˜¾ç¤ºå‘½ä»¤è¯¦ç»†å¸®åŠ©
gs-<command> --help           # å‘½ä»¤å†…ç½®å¸®åŠ©
gs-<command> -h              # ç®€çŸ­å¸®åŠ©

# ç‰ˆæœ¬ä¿¡æ¯
gs-version                     # æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
gs-version --json             # JSONæ ¼å¼è¾“å‡º

# ç³»ç»ŸçŠ¶æ€
gs-status                      # å®Œæ•´ç³»ç»ŸçŠ¶æ€
gs-status --summary           # ç®€è¦æ¦‚è§ˆ
gs-status --json             # JSONæ ¼å¼è¾“å‡º
```

#### é…ç½®ç®¡ç†å‘½ä»¤
```bash
# åŸºç¡€é…ç½®æ“ä½œ
gs-config-get <key>           # è·å–é…ç½®å€¼
gs-config-get system          # è·å–é…ç½®æ®µ
gs-config-get                 # è·å–å…¨éƒ¨é…ç½®
gs-config-set <key> <value>   # è®¾ç½®é…ç½®å€¼

# é…ç½®ç®¡ç†
gs-config-init                # åˆå§‹åŒ–é…ç½®
gs-config-validate            # éªŒè¯å½“å‰é…ç½®
gs-config-reset               # é‡ç½®ä¸ºé»˜è®¤å€¼
gs-config-backup [file]       # åˆ›å»ºé…ç½®å¤‡ä»½
gs-config-restore [file]      # ä»å¤‡ä»½æ¢å¤
gs-config-merge <file>        # åˆå¹¶é…ç½®æ–‡ä»¶
gs-config-diff                # æ˜¾ç¤ºé…ç½®å·®å¼‚

# Schemaæ“ä½œ
gs-config-schema              # æ˜¾ç¤ºé…ç½®Schema
gs-config-schema validate <file>  # éªŒè¯é…ç½®æ–‡ä»¶
gs-config-schema generate     # ç”ŸæˆSchemaæ¨¡æ¿
```

#### æ’ä»¶ç®¡ç†å‘½ä»¤
```bash
# æ’ä»¶å‘ç°
gs-plugins-list               # åˆ—å‡ºæ‰€æœ‰æ’ä»¶
gs-plugins-list --enabled     # ä»…æ˜¾ç¤ºå·²å¯ç”¨æ’ä»¶
gs-plugins-list --available   # æ˜¾ç¤ºå¯ç”¨æ’ä»¶
gs-plugins-list --format json # JSONæ ¼å¼è¾“å‡º
gs-plugins-search <pattern>   # æŒ‰åç§°/æè¿°æœç´¢æ’ä»¶
gs-plugins-info <plugin>      # æ˜¾ç¤ºæ’ä»¶è¯¦ç»†ä¿¡æ¯

# æ’ä»¶ç®¡ç†
gs-plugins-enable <plugin>    # å¯ç”¨æ’ä»¶
gs-plugins-disable <plugin>   # ç¦ç”¨æ’ä»¶
gs-plugins-reload <plugin>    # é‡æ–°åŠ è½½æ’ä»¶
gs-plugins-reload --all       # é‡æ–°åŠ è½½æ‰€æœ‰æ’ä»¶
gs-plugins-validate <plugin>  # éªŒè¯æ’ä»¶ç»“æ„

# æ’ä»¶å¼€å‘
gs-plugins-create <name>      # åˆ›å»ºæ’ä»¶æ¨¡æ¿
gs-plugins-test <plugin>      # è¿è¡Œæ’ä»¶æµ‹è¯•
gs-plugins-install <path>     # ä»è·¯å¾„å®‰è£…æ’ä»¶
gs-plugins-uninstall <plugin> # å¸è½½æ’ä»¶
```

#### å·¥å…·å‘½ä»¤
```bash
# å¥åº·æ£€æŸ¥
gs-tools-health               # å¿«é€Ÿå¥åº·æ£€æŸ¥
gs-tools-health full          # å…¨é¢æ£€æŸ¥
gs-tools-health --json        # JSONæ ¼å¼è¾“å‡º
gs-tools-doctor              # health fullçš„åˆ«å

# æ€§èƒ½å·¥å…·
gs-tools-performance          # æ€§èƒ½æ¦‚è§ˆ
gs-tools-performance benchmark # è¿è¡ŒåŸºå‡†æµ‹è¯•
gs-tools-performance profile  # ç³»ç»Ÿæ€§èƒ½åˆ†æ
gs-tools-performance report   # ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š

# ç¼“å­˜ç®¡ç†
gs-tools-cache status         # æ˜¾ç¤ºç¼“å­˜çŠ¶æ€
gs-tools-cache clean          # æ¸…ç†è¿‡æœŸç¼“å­˜
gs-tools-cache rebuild        # é‡å»ºç¼“å­˜ç´¢å¼•
gs-tools-cache stats          # æ˜¾ç¤ºç¼“å­˜ç»Ÿè®¡
```

### 4.2 æ’ä»¶åŠŸèƒ½è§„åˆ’

#### Androidæ’ä»¶ (gs-android-*)
```bash
# è®¾å¤‡ç®¡ç†
gs-android-device-list        # åˆ—å‡ºè¿æ¥çš„è®¾å¤‡
gs-android-device-info <id>   # æ˜¾ç¤ºè®¾å¤‡è¯¦ç»†ä¿¡æ¯
gs-android-device-screenshot  # è®¾å¤‡æˆªå›¾

# ADBå·¥å…·
gs-android-adb-shell [device] # ADB Shellè¿æ¥
gs-android-adb-install <apk>  # å®‰è£…APK
gs-android-adb-uninstall <pkg> # å¸è½½åº”ç”¨
gs-android-adb-push <src> <dst> # æ¨é€æ–‡ä»¶
gs-android-adb-pull <src> <dst> # æ‹‰å–æ–‡ä»¶

# æ—¥å¿—å·¥å…·
gs-android-logcat [options]   # æŸ¥çœ‹è®¾å¤‡æ—¥å¿—
gs-android-logcat-clear       # æ¸…ç†æ—¥å¿—ç¼“å­˜
```

#### Gitæ’ä»¶ (gs-git-*)
```bash
# çŠ¶æ€å¢å¼º
gs-git-status-enhanced        # å¢å¼ºçš„GitçŠ¶æ€æ˜¾ç¤º
gs-git-summary               # Gitä»“åº“æ‘˜è¦ä¿¡æ¯

# åˆ†æ”¯ç®¡ç†
gs-git-branch-create <name>   # åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯
gs-git-branch-delete <name>   # åˆ é™¤åˆ†æ”¯
gs-git-branch-list           # åˆ—å‡ºæ‰€æœ‰åˆ†æ”¯

# æäº¤å·¥å…·
gs-git-commit-smart          # æ™ºèƒ½æäº¤ï¼ˆè‡ªåŠ¨ç”Ÿæˆæ¶ˆæ¯ï¼‰
gs-git-commit-template       # ä½¿ç”¨æäº¤æ¨¡æ¿
```

#### ç³»ç»Ÿæ’ä»¶ (gs-system-*)
```bash
# ç½‘ç»œå·¥å…·
gs-system-proxy-set <host> <port>  # è®¾ç½®ç³»ç»Ÿä»£ç†
gs-system-proxy-unset              # å–æ¶ˆç³»ç»Ÿä»£ç†
gs-system-proxy-status             # æŸ¥çœ‹ä»£ç†çŠ¶æ€

# ç³»ç»Ÿä¿¡æ¯
gs-system-info                     # æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯
gs-system-processes                # æ˜¾ç¤ºç³»ç»Ÿè¿›ç¨‹
gs-system-network                  # ç½‘ç»œè¿æ¥çŠ¶æ€
```

## ğŸš€ é¡¹ç›®ä»·å€¼

### 5.1 æŠ€æœ¯ä»·å€¼
- **Shellè„šæœ¬ç°ä»£åŒ–æ ‡æ†**: æ¨åŠ¨Shellåº”ç”¨å¼€å‘çš„ç°ä»£åŒ–å®è·µ
- **æ¶æ„è®¾è®¡å‚è€ƒ**: æä¾›åˆ†å±‚æ¶æ„åœ¨Shellé¡¹ç›®ä¸­çš„åº”ç”¨å®è·µ
- **æ’ä»¶ç”Ÿæ€æ¢ç´¢**: æ¢ç´¢Shellç¯å¢ƒä¸‹çš„æ’ä»¶ç³»ç»Ÿè®¾è®¡æ¨¡å¼

### 5.2 ç”¨æˆ·ä»·å€¼
- **å¼€å‘æ•ˆç‡æå‡**: ç»Ÿä¸€çš„å¼€å‘å·¥å…·é›†ï¼Œå‡å°‘ç¯å¢ƒé…ç½®æ—¶é—´
- **å­¦ä¹ æˆæœ¬é™ä½**: ç»Ÿä¸€çš„å‘½ä»¤è§„èŒƒå’Œå¸®åŠ©ç³»ç»Ÿ
- **æ‰©å±•æ€§å¼º**: ç”¨æˆ·å¯ä»¥è½»æ¾æ·»åŠ è‡ªå®šä¹‰æ’ä»¶

### 5.3 å¼€æºä»·å€¼
- **ç¤¾åŒºè´¡çŒ®**: ä¸ºShellå¼€å‘ç¤¾åŒºæä¾›ç°ä»£åŒ–å·¥å…·æ¡†æ¶
- **æŠ€æœ¯åˆ†äº«**: åˆ†äº«å¤æ‚Shellé¡¹ç›®çš„æœ€ä½³å®è·µ
- **ç”Ÿæ€å»ºè®¾**: æ¨åŠ¨Shellå·¥å…·ç”Ÿæ€çš„å‘å±•

## ğŸ“Š æˆåŠŸæŒ‡æ ‡

### 6.1 æ€§èƒ½æŒ‡æ ‡
- **å¯åŠ¨æ—¶é—´**: < 300ms (ç›®æ ‡ç›¸æ¯”V2æå‡40%+)
- **å†…å­˜ä½¿ç”¨**: < 30MB (ç›¸æ¯”V2é™ä½60%+)
- **å‘½ä»¤å“åº”**: < 100ms (Tabè¡¥å…¨å’Œå¸®åŠ©ç³»ç»Ÿ)
- **æ’ä»¶åŠ è½½**: < 50ms (å•ä¸ªæ’ä»¶æ‡’åŠ è½½æ—¶é—´)

### 6.2 åŠŸèƒ½æŒ‡æ ‡
- **V2åŠŸèƒ½è¦†ç›–**: 100% (ç¡®ä¿åŠŸèƒ½ä¸ç¼ºå¤±)
- **æ–°å¢åŠŸèƒ½**: 10+ (é…ç½®ç®¡ç†ã€æ’ä»¶ç³»ç»Ÿç­‰)
- **Bugä¿®å¤**: 100% (è§£å†³V2å·²çŸ¥é—®é¢˜)
- **æµ‹è¯•è¦†ç›–**: 90%+ (æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•è¦†ç›–ç‡)

### 6.3 ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
- **ä¸Šæ‰‹æ—¶é—´**: < 15åˆ†é’Ÿ (æ–°ç”¨æˆ·å­¦ä¹ æˆæœ¬)
- **é”™è¯¯æ¢å¤**: 90%+ (é”™è¯¯ä¿¡æ¯æä¾›è§£å†³å»ºè®®)
- **æ–‡æ¡£è¦†ç›–**: 100% (æ‰€æœ‰å…¬å¼€å‘½ä»¤éƒ½æœ‰æ–‡æ¡£)
- **å¸®åŠ©æœ‰æ•ˆæ€§**: 95%+ (ç”¨æˆ·é€šè¿‡å¸®åŠ©è§£å†³é—®é¢˜çš„æ¯”ä¾‹)

## ğŸ¯ é¡¹ç›®å®šä½

è¿™æ˜¯ä¸€ä¸ª**ç°å®å¯è¡Œ**çš„é«˜è´¨é‡Shellå¼€å‘å·¥å…·æ¡†æ¶é¡¹ç›®ï¼š

- **æŠ€æœ¯ç°å®æ€§**: åŸºäºæˆç†ŸæŠ€æœ¯æ ˆï¼Œé¿å…è¿‡åº¦å·¥ç¨‹åŒ–
- **ç”¨æˆ·å‹å¥½æ€§**: ç¯å¢ƒä¾èµ–æœ€å°åŒ–ï¼Œå¼€ç®±å³ç”¨
- **æ¶æ„å…ˆè¿›æ€§**: ä¿ç•™ä¼˜ç§€çš„åˆ†å±‚æ¶æ„å’Œæ¨¡å—åŒ–è®¾è®¡
- **æ‰©å±•èƒ½åŠ›**: æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰æ’ä»¶ï¼Œç”Ÿæ€å¯æŒç»­å‘å±•

é€šè¿‡å»é™¤V2å…¼å®¹æ€§åŒ…è¢±ï¼Œä¿ç•™å…ˆè¿›æ¶æ„è®¾è®¡ï¼Œè¿™ä¸ªé¡¹ç›®å°†æˆä¸ºShellåº”ç”¨å¼€å‘çš„ä¼˜ç§€å®è·µå‚è€ƒã€‚