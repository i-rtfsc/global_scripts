# macOS èœå•æ çŠ¶æ€ç›‘æ§æŒ‡å—

**ä¸­æ–‡** | [English](./en/menubar-guide.md)

## æ¦‚è§ˆ

macOS èœå•æ çŠ¶æ€ç›‘æ§æä¾›äº†ä» macOS èœå•æ ç›´æ¥æŸ¥çœ‹ Global Scripts å‘½ä»¤æ‰§è¡ŒçŠ¶æ€çš„å®æ—¶å¯è§æ€§ã€‚å½“åœ¨ç»ˆç«¯è¿è¡Œ GS å‘½ä»¤æ—¶ï¼Œæ‚¨å¯ä»¥åœ¨ä¸ä¿æŒç»ˆç«¯çª—å£å¯è§çš„æƒ…å†µä¸‹æŸ¥çœ‹è¿›åº¦ã€çŠ¶æ€å’Œç³»ç»ŸæŒ‡æ ‡ã€‚

**å¹³å°**: ä»…æ”¯æŒ macOS 10.10+

**ä¾èµ–**:
- `rumps>=0.4.0` (macOS èœå•æ æ¡†æ¶)
- `psutil>=5.9.0` (ç³»ç»ŸæŒ‡æ ‡)
- `aiohttp>=3.8.0` (å¼‚æ­¥ HTTP å®¢æˆ·ç«¯ï¼Œç”¨äºä¸€è¨€ API)

---

## åŠŸèƒ½ç‰¹æ€§

### å‘½ä»¤çŠ¶æ€æ˜¾ç¤º

- **è‡ªåŠ¨å¯åŠ¨**: è¿è¡Œ GS å‘½ä»¤æ—¶èœå•æ åº”ç”¨è‡ªåŠ¨å¯åŠ¨
- **å®æ—¶è¿›åº¦**: æ˜¾ç¤ºå‘½ä»¤åç§°ã€è¿›åº¦ç™¾åˆ†æ¯”å’Œå·²ç”¨æ—¶é—´
- **å®ŒæˆçŠ¶æ€**: æ˜¾ç¤ºæˆåŠŸ (âœ“) æˆ–å¤±è´¥ (âœ—) åŠè€—æ—¶
- **çŠ¶æ€æ¸…é™¤**: 5 ç§’åè‡ªåŠ¨æ¸…é™¤å›åˆ°ç©ºé—²çŠ¶æ€
- **è·‘é©¬ç¯æ•ˆæœ**: æ–‡æœ¬è¿‡é•¿æ—¶è‡ªåŠ¨æ»šåŠ¨æ˜¾ç¤ºï¼ˆæ”¯æŒä¸­è‹±æ–‡æ™ºèƒ½å®½åº¦è®¡ç®—ï¼‰

### ç³»ç»ŸæŒ‡æ ‡ç›‘æ§

- **CPU æ¸©åº¦**: æ˜¾ç¤ºå½“å‰ CPU æ¸©åº¦
  - **Apple Silicon (M1/M2/M3/M4/M5)**: ä½¿ç”¨ 3 å±‚æ£€æµ‹æ–¹æ³•
    1. `sysctl` çƒ­çº§åˆ«
    2. `ioreg` è®¾å¤‡æ¸©åº¦
    3. CPU ä½¿ç”¨ç‡ä¼°ç®—
- **å†…å­˜ä½¿ç”¨**: æ˜¾ç¤ºå†…å­˜ä½¿ç”¨ç™¾åˆ†æ¯”
- **è‡ªåŠ¨åˆ·æ–°**: æ¯ 5 ç§’æ›´æ–°ä¸€æ¬¡

### å¢å¼ºç³»ç»Ÿç›‘æ§

#### CPU å­èœå•
ç‚¹å‡» CPU èœå•é¡¹æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CPU: 35% 52Â°C               â–¶  â”‚  â† åŠ¨æ€æ ‡é¢˜ï¼šæ€»ä½¿ç”¨ç‡ + æ¸©åº¦
â”‚   Overall: 35.2%               â”‚  â† æ•´ä½“ CPU ä½¿ç”¨ç‡
â”‚   Core 0: 45.1%                â”‚  â† æ¯æ ¸å¿ƒä½¿ç”¨ç‡
â”‚   Core 1: 32.3%                â”‚
â”‚   Core 2: 28.5%                â”‚
â”‚   Core 3: 39.0%                â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚   Temperature: 52.3Â°C â†‘        â”‚  â† å½“å‰æ¸©åº¦ + è¶‹åŠ¿æŒ‡ç¤ºå™¨
â”‚   Avg (5min): 48.7Â°C           â”‚  â† 5åˆ†é’Ÿå¹³å‡æ¸©åº¦
â”‚   Peak (session): 58.1Â°C       â”‚  â† ä¼šè¯å³°å€¼æ¸©åº¦
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚   ğŸŸ¢ æ­£å¸¸: 52.3Â°C              â”‚  â† æ¸©åº¦è­¦æŠ¥çŠ¶æ€
â”‚   é˜ˆå€¼: è­¦å‘Š 60Â°C / å±é™© 75Â°C  â”‚  â† å¯é…ç½®é˜ˆå€¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ¸©åº¦è¶‹åŠ¿æŒ‡ç¤ºå™¨**:
- `â†‘` ä¸Šå‡ï¼ˆ30ç§’å†…ä¸Šå‡ > 2Â°Cï¼‰
- `â†“` ä¸‹é™ï¼ˆ30ç§’å†…ä¸‹é™ > 2Â°Cï¼‰
- `â†’` ç¨³å®šï¼ˆå˜åŒ– â‰¤ 2Â°Cï¼‰

**æ¸©åº¦è­¦æŠ¥çŠ¶æ€** (Phase 6):
- ğŸŸ¢ æ­£å¸¸: < 60Â°Cï¼ˆé»˜è®¤ï¼‰
- ğŸŸ¡ è­¦å‘Š: 60-75Â°C
- ğŸ”´ å±é™©: â‰¥ 75Â°C

#### Memory å­èœå•
ç‚¹å‡» Memory èœå•é¡¹æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Memory: 12.3/16GB           â–¶  â”‚  â† åŠ¨æ€æ ‡é¢˜ï¼šå·²ç”¨/æ€»é‡
â”‚   Used: 12.3 / 16.0 GB (77%)   â”‚  â† æ€»ä½¿ç”¨é‡
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚     App: 8.5 GB                â”‚  â† åº”ç”¨ç¨‹åºå†…å­˜
â”‚     Wired: 2.1 GB              â”‚  â† å›ºå®šå†…å­˜ï¼ˆå†…æ ¸ï¼‰
â”‚     Compressed: 1.2 GB         â”‚  â† å‹ç¼©å†…å­˜
â”‚     Cached: 0.5 GB             â”‚  â† ç¼“å­˜æ–‡ä»¶
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚   Swap: None                   â”‚  â† äº¤æ¢ç©ºé—´ä½¿ç”¨
â”‚   Pressure: ğŸŸ¡ Moderate        â”‚  â† å†…å­˜å‹åŠ›ç­‰çº§
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚   Top Processes: (å¯é€‰)        â”‚  â† Top 3 å†…å­˜å ç”¨è¿›ç¨‹
â”‚     Chrome: 2.1 GB             â”‚
â”‚     Code: 1.8 GB               â”‚
â”‚     Slack: 0.9 GB              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å†…å­˜å‹åŠ›ç­‰çº§**:
- ğŸŸ¢ Normal (< 60%): å†…å­˜å……è¶³
- ğŸŸ¡ Moderate (60-80%): å†…å­˜é€‚ä¸­
- ğŸ”´ High (> 80%): å†…å­˜ç´§å¼ 

#### Disk å­èœå• (Phase 6.2)
ç‚¹å‡» Disk èœå•é¡¹æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Disk: 336/926GB (37%)       â–¶  â”‚  â† åŠ¨æ€æ ‡é¢˜ï¼šå·²ç”¨/æ€»é‡ï¼ˆç™¾åˆ†æ¯”ï¼‰
â”‚   Used: 336.0 / 926.0 GB (37%) â”‚  â† æ€»ä½¿ç”¨é‡
â”‚   Free: 590.0 GB               â”‚  â† å¯ç”¨ç©ºé—´
â”‚   Pressure: ğŸŸ¢ æ­£å¸¸            â”‚  â† ç£ç›˜å‹åŠ›ç­‰çº§
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚   I/O Activity:                â”‚  â† I/O æ´»åŠ¨ï¼ˆå¯é€‰ï¼‰
â”‚   Read: 12.3 MB/s              â”‚  â† è¯»å–é€Ÿåº¦
â”‚   Write: 5.7 MB/s              â”‚  â† å†™å…¥é€Ÿåº¦
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç£ç›˜å‹åŠ›ç­‰çº§**:
- ğŸŸ¢ æ­£å¸¸ (< 80%): ç£ç›˜ç©ºé—´å……è¶³
- ğŸŸ¡ ä¸­ç­‰ (80-90%): ç£ç›˜ç©ºé—´é€‚ä¸­
- ğŸ”´ é«˜ (> 90%): ç£ç›˜ç©ºé—´ç´§å¼ 

**é‡è¦ä¿®å¤** (macOS APFS):
- ä¿®å¤äº†ç£ç›˜ä½¿ç”¨é‡æ˜¾ç¤ºé”™è¯¯ï¼ˆåªæ˜¾ç¤º11GBçš„é—®é¢˜ï¼‰
- ç°åœ¨æ­£ç¡®æ£€æµ‹ `/System/Volumes/Data` æ•°æ®å·
- macOS APFS ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·æ•°æ®åœ¨æ•°æ®å·è€Œéç³»ç»Ÿå¿«ç…§

#### Battery å­èœå• (Phase 3)
ç‚¹å‡» Battery èœå•é¡¹æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼ˆä»…ç¬”è®°æœ¬ï¼‰ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Battery: 98% (20h 0m)       â–¶  â”‚  â† åŠ¨æ€æ ‡é¢˜ï¼šç”µé‡ï¼ˆå‰©ä½™æ—¶é—´ï¼‰
â”‚   Charge: 98% (æ”¾ç”µä¸­)         â”‚  â† ç”µé‡å’ŒçŠ¶æ€
â”‚   Time Remaining: 20h 0m       â”‚  â† å‰©ä½™æ—¶é—´
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚   Health: 103% (æä½³)          â”‚  â† ç”µæ± å¥åº·åº¦
â”‚   Cycle Count: 8 / 1000        â”‚  â† å¾ªç¯æ¬¡æ•°
â”‚   Temperature: 27.7Â°C          â”‚  â† ç”µæ± æ¸©åº¦
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚   Power Source: Battery        â”‚  â† ç”µæºæ¥æº
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç”µæ± å¥åº·ç­‰çº§**:
- æä½³ (â‰¥ 90%): ç”µæ± çŠ¶æ€æä½³
- è‰¯å¥½ (80-90%): ç”µæ± çŠ¶æ€è‰¯å¥½
- ä¸€èˆ¬ (60-80%): ç”µæ± æœ‰ä¸€å®šæŸè€—
- è¾ƒå·® (40-60%): ç”µæ± æ˜æ˜¾è€åŒ–
- å»ºè®®æ›´æ¢ (< 40%): éœ€è¦æ›´æ¢ç”µæ± 

**é‡è¦ä¿®å¤** (ç”µæ± å¥åº·è®¡ç®—):
- ä¿®å¤äº†ç”µæ± å¥åº·åº¦æ˜¾ç¤ºé”™è¯¯ï¼ˆæ–°ç”µè„‘æ˜¾ç¤º2%çš„é—®é¢˜ï¼‰
- ç°åœ¨æ­£ç¡®ä½¿ç”¨ `AppleRawMaxCapacity`ï¼ˆå®é™…mAhå®¹é‡ï¼‰
- ä¿®å¤äº†æ¸©åº¦å•ä½è½¬æ¢ï¼ˆdecikelvin â†’ Â°Cï¼‰

**æ³¨æ„**: å°å¼æœºæ— ç”µæ± ï¼Œæ˜¾ç¤º "Battery: N/A (å°å¼æœº)"

#### Ports å­èœå• (Phase 5)
ç‚¹å‡» Ports èœå•é¡¹æŸ¥çœ‹ç«¯å£å ç”¨çŠ¶æ€ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç«¯å£: 2/8                    â–¶  â”‚  â† åŠ¨æ€æ ‡é¢˜ï¼šå ç”¨æ•°/æ€»æ•°
â”‚   ğŸŸ¢ 3000: Python (PID 61023)  â”‚  â† å ç”¨çš„ç«¯å£
â”‚     â¹ ç»“æŸè¿›ç¨‹                 â”‚     â† å¯ç‚¹å‡»ç»ˆæ­¢è¿›ç¨‹
â”‚   ğŸ”´ 8080: æœªä½¿ç”¨              â”‚  â† æœªå ç”¨çš„ç«¯å£
â”‚   ğŸ”´ 80: æœªä½¿ç”¨                â”‚
â”‚   ğŸ”´ 443: æœªä½¿ç”¨               â”‚
â”‚   ğŸ”´ 5432: æœªä½¿ç”¨              â”‚
â”‚   ğŸ”´ 3306: æœªä½¿ç”¨              â”‚
â”‚   ğŸŸ¢ 6379: redis-server (12345)â”‚
â”‚     â¹ ç»“æŸè¿›ç¨‹                 â”‚
â”‚   ğŸ”´ 27017: æœªä½¿ç”¨             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½ç‰¹æ€§**:
- å®æ—¶æ£€æµ‹å¸¸ç”¨å¼€å‘ç«¯å£å ç”¨æƒ…å†µ
- æ˜¾ç¤ºå ç”¨è¿›ç¨‹åç§°å’Œ PID
- å¯å¿«é€Ÿç»ˆæ­¢å ç”¨è¿›ç¨‹ï¼ˆå¸¦ç¡®è®¤å¯¹è¯æ¡†ï¼‰
- é»˜è®¤ç›‘æ§ 8 ä¸ªå¸¸ç”¨ç«¯å£ï¼ˆå¯é…ç½®ï¼‰

**é…ç½®é€‰é¡¹** (æ–°å¢):
| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `show_top_processes` | boolean | `false` | åœ¨ Memory å­èœå•æ˜¾ç¤º Top 3 è¿›ç¨‹ |
| `high_cpu_threshold` | number | `80.0` | é«˜ CPU è­¦å‘Šé˜ˆå€¼ï¼ˆ%ï¼‰|
| `show_disk` | boolean | `true` | æ˜¾ç¤ºç£ç›˜ç›‘æ§ |
| `show_battery` | boolean | `true` | æ˜¾ç¤ºç”µæ± ç›‘æ§ï¼ˆç¬”è®°æœ¬ï¼‰|
| `show_ports` | boolean | `true` | æ˜¾ç¤ºç«¯å£ç›‘æ§ |
| `monitored_ports` | array | `[3000, 8080, ...]` | ç›‘æ§çš„ç«¯å£åˆ—è¡¨ |
| `show_temp_alert` | boolean | `true` | æ˜¾ç¤ºæ¸©åº¦è­¦æŠ¥ |
| `temp_warning_threshold` | number | `60.0` | æ¸©åº¦è­¦å‘Šé˜ˆå€¼ï¼ˆÂ°Cï¼‰|
| `temp_critical_threshold` | number | `75.0` | æ¸©åº¦å±é™©é˜ˆå€¼ï¼ˆÂ°Cï¼‰|
| `on_demand_monitoring` | boolean | `true` | æŒ‰éœ€ç›‘æ§ï¼ˆä»…åœ¨èœå•æ‰“å¼€æ—¶æ›´æ–°ï¼‰|

### æ˜¾ç¤ºæ ¼å¼

#### çŠ¶æ€æ æ ‡é¢˜æ˜¾ç¤º
- **ç©ºé—²**: `GS`
- **è¿è¡Œä¸­ï¼ˆæ— è¿›åº¦ï¼‰**: `GS version 2s`
- **è¿è¡Œä¸­ï¼ˆæœ‰è¿›åº¦ï¼‰**: `GS android.adb 45% 2m15s`
- **è¿è¡Œä¸­ï¼ˆå¸¦è¾“å‡ºï¼‰**: `GS spider.crawl 50% 1m æ‰¾åˆ°10æ¡` (è‡ªåŠ¨æ»šåŠ¨)
- **æˆåŠŸ**: `GS version 1.2s âœ“`
- **å¤±è´¥**: `GS command 0.5s âœ—`

#### ä¸‹æ‹‰èœå•æ˜¾ç¤º
ç‚¹å‡»èœå•æ å›¾æ ‡æŸ¥çœ‹ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœ€è¿‘å‘½ä»¤            â–¶  â”‚  â† å‘½ä»¤å†å²ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¿«æ·æ–¹å¼            â–¶  â”‚  â† è‡ªå®šä¹‰å¿«æ·æ–¹å¼ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CPU: 35% 52Â°C       â–¶  â”‚  â† ç‚¹å‡»æŸ¥çœ‹ CPU è¯¦ç»†ä¿¡æ¯
â”‚ Memory: 12.3/16GB   â–¶  â”‚  â† ç‚¹å‡»æŸ¥çœ‹ Memory è¯¦ç»†ä¿¡æ¯
â”‚ Disk: 336/926GB     â–¶  â”‚  â† ç‚¹å‡»æŸ¥çœ‹ Disk è¯¦ç»†ä¿¡æ¯
â”‚ Battery: 98% (20h)  â–¶  â”‚  â† ç‚¹å‡»æŸ¥çœ‹ Battery è¯¦ç»†ä¿¡æ¯
â”‚ ç«¯å£: 2/8           â–¶  â”‚  â† ç‚¹å‡»æŸ¥çœ‹ Ports è¯¦ç»†ä¿¡æ¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Quit                   â”‚  â† é€€å‡ºåº”ç”¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®‰è£…é…ç½®

### 1. å®‰è£…ä¾èµ–

```bash
uv sync
```

### 2. å¯ç”¨èœå•æ 

ç¼–è¾‘ `~/.config/global-scripts/config/gs.json`:

```json
{
  "menubar": {
    "enabled": true,
    "on_demand_monitoring": true,
    "refresh_interval": 5,
    "show_cpu_temp": true,
    "show_memory": true,
    "show_disk": true,
    "show_battery": true,
    "show_ports": true,
    "monitored_ports": [3000, 8080, 80, 443, 5432, 3306, 6379, 27017],
    "show_temp_alert": true,
    "temp_warning_threshold": 60.0,
    "temp_critical_threshold": 75.0,
    "enable_history": true,
    "history_max_entries": 50,
    "enable_shortcuts": true,
    "sentence_type": "ä¸€è¨€",
    "sentence_refresh_interval": 300,
    "marquee_update_interval": 0.3
  }
}
```

### 3. è¿è¡Œå‘½ä»¤è‡ªåŠ¨å¯åŠ¨

```bash
gs version
```

èœå•æ åº”ç”¨å°†è‡ªåŠ¨åœ¨åå°å¯åŠ¨ã€‚

---

## é…ç½®é€‰é¡¹

### åŸºç¡€é…ç½®

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `enabled` | boolean | `false` | å¯ç”¨/ç¦ç”¨èœå•æ åŠŸèƒ½ |
| `on_demand_monitoring` | boolean | `true` | æŒ‰éœ€ç›‘æ§ï¼ˆä»…åœ¨èœå•æ‰“å¼€æ—¶æ›´æ–°ï¼‰|
| `refresh_interval` | number | `5` | ç³»ç»ŸæŒ‡æ ‡åˆ·æ–°é—´éš”ï¼ˆç§’ï¼ŒéæŒ‰éœ€æ¨¡å¼ï¼‰|
| `show_cpu_temp` | boolean | `true` | åœ¨èœå•ä¸­æ˜¾ç¤º CPU æ¸©åº¦ |
| `show_memory` | boolean | `true` | åœ¨èœå•ä¸­æ˜¾ç¤ºå†…å­˜ä½¿ç”¨ç‡ |
| `show_disk` | boolean | `true` | åœ¨èœå•ä¸­æ˜¾ç¤ºç£ç›˜ä½¿ç”¨ç‡ |
| `show_battery` | boolean | `true` | åœ¨èœå•ä¸­æ˜¾ç¤ºç”µæ± çŠ¶æ€ï¼ˆç¬”è®°æœ¬ï¼‰|
| `show_ports` | boolean | `true` | åœ¨èœå•ä¸­æ˜¾ç¤ºç«¯å£ç›‘æ§ |

### ç›‘æ§é…ç½®

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `show_top_processes` | boolean | `false` | åœ¨ Memory å­èœå•æ˜¾ç¤º Top 3 è¿›ç¨‹ |
| `high_cpu_threshold` | number | `80.0` | é«˜ CPU è­¦å‘Šé˜ˆå€¼ï¼ˆ%ï¼‰|
| `monitored_ports` | array | `[3000, 8080, ...]` | ç›‘æ§çš„ç«¯å£åˆ—è¡¨ |
| `show_temp_alert` | boolean | `true` | æ˜¾ç¤ºæ¸©åº¦è­¦æŠ¥ |
| `temp_warning_threshold` | number | `60.0` | æ¸©åº¦è­¦å‘Šé˜ˆå€¼ï¼ˆÂ°Cï¼‰|
| `temp_critical_threshold` | number | `75.0` | æ¸©åº¦å±é™©é˜ˆå€¼ï¼ˆÂ°Cï¼‰|

### å†å²å’Œå¿«æ·æ–¹å¼

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `enable_history` | boolean | `false` | å¯ç”¨å‘½ä»¤å†å²è®°å½• |
| `history_max_entries` | number | `50` | å†å²è®°å½•æœ€å¤§æ¡æ•° |
| `history_execution_mode` | string | `"background"` | å†å²å‘½ä»¤æ‰§è¡Œæ¨¡å¼ï¼ˆ`terminal`/`background`ï¼‰|
| `enable_shortcuts` | boolean | `false` | å¯ç”¨è‡ªå®šä¹‰å¿«æ·æ–¹å¼ |
| `shortcuts` | object | `{}` | è‡ªå®šä¹‰å¿«æ·æ–¹å¼å®šä¹‰ |

### é«˜çº§é…ç½®

| é€‰é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `sentence_type` | string | `"ä¸€è¨€"` | ä¸€è¨€ç±»å‹ï¼ˆä¸€è¨€/æ¯’é¸¡æ±¤/ç¤¾ä¼šè¯­å½•/èˆ”ç‹—æ—¥è®°/è¯—è¯ï¼‰|
| `sentence_refresh_interval` | number | `300` | ä¸€è¨€åˆ·æ–°é—´éš”ï¼ˆç§’ï¼Œé»˜è®¤ 5 åˆ†é’Ÿï¼‰|
| `marquee_update_interval` | number | `0.3` | è·‘é©¬ç¯æ»šåŠ¨é€Ÿåº¦ï¼ˆç§’ï¼‰|

### å¤šè¯­è¨€æ”¯æŒï¼ˆi18nï¼‰

èœå•æ åº”ç”¨æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ç•Œé¢ï¼Œè‡ªåŠ¨è·Ÿéšç³»ç»Ÿ `language` é…ç½®ï¼š

```json
{
  "language": "zh",  // æˆ– "en"
  "menubar": {
    "enabled": true
  }
}
```

**æ”¯æŒçš„è¯­è¨€**:
- `zh`: ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰
- `en`: English

æ‰€æœ‰èœå•é¡¹ã€é€šçŸ¥æ¶ˆæ¯éƒ½ä¼šè‡ªåŠ¨ç¿»è¯‘ã€‚

### é…ç½®ç¤ºä¾‹

**æœ€å°é…ç½®**:
```json
{
  "menubar": {
    "enabled": true
  }
}
```

**å®Œæ•´é…ç½®ï¼ˆæ¨èï¼‰**:
```json
{
  "menubar": {
    "enabled": true,
    "on_demand_monitoring": true,
    "refresh_interval": 5,
    "show_cpu_temp": true,
    "show_memory": true,
    "show_disk": true,
    "show_battery": true,
    "show_ports": true,
    "monitored_ports": [3000, 8080, 80, 443, 5432, 3306, 6379, 27017],
    "show_temp_alert": true,
    "temp_warning_threshold": 60.0,
    "temp_critical_threshold": 75.0,
    "enable_history": true,
    "history_max_entries": 50,
    "history_execution_mode": "background",
    "enable_shortcuts": true,
    "shortcuts": {
      "ğŸ“Š çŠ¶æ€æ£€æŸ¥": {
        "command": "gs status",
        "execution_mode": "terminal"
      }
    },
    "sentence_type": "è¯—è¯",
    "sentence_refresh_interval": 600,
    "marquee_update_interval": 0.2
  }
}
```

---

## ä½¿ç”¨è¯´æ˜

### åŸºæœ¬ç”¨æ³•

èœå•æ ä¸€æ—¦å¯ç”¨ï¼Œå°†è‡ªåŠ¨å·¥ä½œï¼š

1. **é¦–æ¬¡è¿è¡Œå‘½ä»¤è§¦å‘è‡ªåŠ¨å¯åŠ¨**:
   ```bash
   gs system doctor
   ```
   â†’ èœå•æ åº”ç”¨åœ¨åå°å¯åŠ¨

2. **åç»­å‘½ä»¤æ›´æ–°çŠ¶æ€**:
   ```bash
   gs android build aosp
   ```
   â†’ èœå•æ æ˜¾ç¤º: `GS android.build 0m30s`

3. **æŸ¥çœ‹ä¸‹æ‹‰èœå•**ï¼ˆç‚¹å‡»èœå•æ å›¾æ ‡ï¼‰:
   ```
   CPU: 52Â°C
   Memory: 45%
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Quit
   ```

### æ‰‹åŠ¨æ§åˆ¶

```bash
# å¯åŠ¨èœå•æ 
gs menubar start

# åœæ­¢èœå•æ 
gs menubar stop

# é‡å¯èœå•æ 
gs menubar restart

# æŸ¥çœ‹çŠ¶æ€
gs menubar status
```

---

## çŠ¶æ€è½¬æ¢æµç¨‹

```
ç©ºé—² â†’ è¿è¡Œï¼ˆæ— è¿›åº¦ï¼‰â†’ è¿è¡Œï¼ˆæœ‰è¿›åº¦ï¼‰â†’ æˆåŠŸ/å¤±è´¥ â†’ [5ç§’] â†’ ç©ºé—²
 GS      GS cmd 5s      GS cmd 45% 2m      GS cmd 1s âœ“/âœ—     GS
```

### è¯¦ç»†è¯´æ˜

#### 1. ç©ºé—²çŠ¶æ€
- **æ˜¾ç¤º**: `GS`
- **è§¦å‘æ¡ä»¶**: æ— å‘½ä»¤åœ¨æ‰§è¡Œ
- **æŒç»­æ—¶é—´**: ç›´åˆ°ä¸‹ä¸€ä¸ªå‘½ä»¤å¼€å§‹

#### 2. è¿è¡ŒçŠ¶æ€ï¼ˆæ— è¿›åº¦ï¼‰
- **æ˜¾ç¤º**: `GS version 5s`
- **è§¦å‘æ¡ä»¶**: å‘½ä»¤å¼€å§‹æ‰§è¡Œï¼Œä½†æ²¡æœ‰è¿›åº¦æŠ¥å‘Š
- **å®æ—¶æ›´æ–°**: æ—¶é—´æ¯ç§’åˆ·æ–°

#### 3. è¿è¡ŒçŠ¶æ€ï¼ˆæœ‰è¿›åº¦ï¼‰
- **æ˜¾ç¤º**: `GS spider.crawl 45% 2m15s`
- **è§¦å‘æ¡ä»¶**: å‘½ä»¤æ‰§è¡Œä¸­ï¼Œä¸”é€šè¿‡ generator yield æŠ¥å‘Šè¿›åº¦
- **è¿›åº¦èŒƒå›´**: 0-100%

**ç¤ºä¾‹æ’ä»¶ä»£ç **:
```python
@plugin_function
async def long_task(self, args=None):
    for i in range(100):
        # æ‰§è¡Œä»»åŠ¡...
        yield {"progress": i}  # æŠ¥å‘Šè¿›åº¦
    return CommandResult(success=True)
```

#### 4. æˆåŠŸçŠ¶æ€
- **æ˜¾ç¤º**: `GS version 1.2s âœ“`
- **è§¦å‘æ¡ä»¶**: å‘½ä»¤æ‰§è¡ŒæˆåŠŸ
- **æŒç»­æ—¶é—´**: æ˜¾ç¤º 5 ç§’åè‡ªåŠ¨æ¸…é™¤

#### 5. å¤±è´¥çŠ¶æ€
- **æ˜¾ç¤º**: `GS command 0.5s âœ—`
- **è§¦å‘æ¡ä»¶**: å‘½ä»¤æ‰§è¡Œå¤±è´¥æˆ–å¼‚å¸¸
- **æŒç»­æ—¶é—´**: æ˜¾ç¤º 5 ç§’åè‡ªåŠ¨æ¸…é™¤

---

## è·‘é©¬ç¯åŠŸèƒ½

### è§¦å‘æ¡ä»¶

æ–‡æœ¬æ˜¾ç¤ºå®½åº¦è¶…è¿‡ 30 æ—¶è‡ªåŠ¨å¯ç”¨è·‘é©¬ç¯ï¼š
- **ä¸­æ–‡å­—ç¬¦**: å  2 ä¸ªå®½åº¦
- **è‹±æ–‡/æ•°å­—/ç¬¦å·**: å  1 ä¸ªå®½åº¦

**ç¤ºä¾‹**:
- `GS version 1s` â†’ å®½åº¦ 13ï¼Œä¸æ»šåŠ¨
- `GS è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒé•¿çš„å¥å­` â†’ å®½åº¦ > 30ï¼Œæ»šåŠ¨æ˜¾ç¤º
- `GS This is a very long sentence` â†’ å®½åº¦ > 30ï¼Œæ»šåŠ¨æ˜¾ç¤º

### é…ç½®

```json
{
  "menubar": {
    "marquee_update_interval": 0.3  // æ»šåŠ¨é€Ÿåº¦ï¼ˆç§’ï¼‰
  }
}
```

---

## CPU æ¸©åº¦ç›‘æ§

### Apple Silicon (M1/M2/M3/M4/M5)

ä½¿ç”¨ 3 å±‚å›é€€æ£€æµ‹æ–¹æ³•ï¼š

#### æ–¹æ³• 1: sysctlï¼ˆçƒ­çº§åˆ«ï¼‰
```bash
sysctl machdep.xcpm.cpu_thermal_level
# è¿”å›: 0-100 çš„çƒ­çº§åˆ«
# è½¬æ¢: 40 + (level * 0.6) = æ¸©åº¦ï¼ˆÂ°Cï¼‰
```
- **ä¼˜ç‚¹**: å¿«é€Ÿï¼Œæ— éœ€æƒé™
- **ç¼ºç‚¹**: çƒ­çº§åˆ«è¿‘ä¼¼å€¼

#### æ–¹æ³• 2: ioregï¼ˆè®¾å¤‡æ¸©åº¦ï¼‰
```bash
ioreg -rn AppleARMIODevice | grep temperature
# è¿”å›: æ¸©åº¦å€¼ï¼ˆé€šå¸¸æ˜¯ Â°C * 100ï¼‰
# è½¬æ¢: temp_raw / 100.0
```
- **ä¼˜ç‚¹**: è¾ƒå‡†ç¡®
- **ç¼ºç‚¹**: éƒ¨åˆ†èŠ¯ç‰‡å¯èƒ½ä¸å¯ç”¨

#### æ–¹æ³• 3: CPU ä½¿ç”¨ç‡ä¼°ç®—
```python
cpu_percent = psutil.cpu_percent()
estimated_temp = 40 + (cpu_percent * 0.4)
# 0% CPU = 40Â°Cï¼Œ100% CPU = 80Â°C
```
- **ä¼˜ç‚¹**: å§‹ç»ˆå¯ç”¨
- **ç¼ºç‚¹**: ä»…ä¸ºä¼°ç®—å€¼

### Intel Mac

ä½¿ç”¨ `psutil.sensors_temperatures()` è¯»å–ä¼ æ„Ÿå™¨æ•°æ®ã€‚

---

## IPC é€šä¿¡æœºåˆ¶

### é€šä¿¡åè®®

- **åè®®**: Unix Domain Socket
- **è·¯å¾„**: `~/.config/global-scripts/menubar.sock`
- **æ–¹å‘**: CLI â†’ èœå•æ åº”ç”¨ï¼ˆå•å‘ï¼‰

### æ¶ˆæ¯ç±»å‹

#### 1. å‘½ä»¤å¼€å§‹ï¼ˆcommand_startï¼‰
```json
{
  "type": "command_start",
  "command": "android.adb.devices",
  "timestamp": 1699459200.123
}
```

#### 2. è¿›åº¦æ›´æ–°ï¼ˆprogress_updateï¼‰
```json
{
  "type": "progress_update",
  "percentage": 45,
  "elapsed": 15.3,
  "output": "å·²å¤„ç† 45 ä¸ªæ–‡ä»¶"
}
```

#### 3. å‘½ä»¤å®Œæˆï¼ˆcommand_completeï¼‰
```json
{
  "type": "command_complete",
  "success": true,
  "duration": 1.23,
  "output": "æ‰¾åˆ° 3 ä¸ªè®¾å¤‡",
  "error": null
}
```

---

## æ•…éšœæ’æŸ¥

### CPU æ¸©åº¦æ˜¾ç¤º N/A

```bash
# æµ‹è¯•æ£€æµ‹æ–¹æ³•
# æ–¹æ³• 1: sysctl
sysctl machdep.xcpm.cpu_thermal_level

# æ–¹æ³• 2: ioreg
ioreg -rn AppleARMIODevice | grep temperature

# æ–¹æ³• 3: CPU ä½¿ç”¨ç‡
uv run python -c "
import psutil
cpu = psutil.cpu_percent(interval=0.5)
temp = 40 + (cpu * 0.4)
print(f'CPU: {cpu}% â†’ ä¼°ç®—æ¸©åº¦: {temp:.1f}Â°C')
"

# æŸ¥çœ‹æ—¥å¿—
tail -100 ~/.config/global-scripts/logs/menubar.log | grep -i temp
```

### ç”µæ± å¥åº·æ˜¾ç¤ºé”™è¯¯

å¦‚æœç”µæ± å¥åº·åº¦æ˜¾ç¤ºå¼‚å¸¸ï¼ˆå¦‚æ–°ç”µè„‘æ˜¾ç¤º2%ï¼‰ï¼Œè¯·æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ä¿®å¤å†…å®¹ï¼š
- ä½¿ç”¨æ­£ç¡®çš„ `AppleRawMaxCapacity` å­—æ®µï¼ˆå®é™…mAhå®¹é‡ï¼‰
- ä¿®æ­£æ¸©åº¦å•ä½è½¬æ¢ï¼ˆdecikelvin â†’ Â°Cï¼‰

```bash
# æŸ¥çœ‹ç”µæ± ä¿¡æ¯
ioreg -rn AppleSmartBattery | grep -E "(MaxCapacity|AppleRawMaxCapacity|DesignCapacity|CycleCount)"

# é¢„æœŸè¾“å‡ºï¼š
# "AppleRawMaxCapacity" = 6428    â† å®é™…å®¹é‡ï¼ˆmAhï¼‰
# "MaxCapacity" = 100              â† ç™¾åˆ†æ¯”ï¼ˆéå®¹é‡ï¼ï¼‰
# "DesignCapacity" = 6249          â† è®¾è®¡å®¹é‡ï¼ˆmAhï¼‰
```

### ç£ç›˜ä½¿ç”¨é‡æ˜¾ç¤ºé”™è¯¯

å¦‚æœç£ç›˜ä½¿ç”¨é‡æ˜¾ç¤ºè¿‡å°ï¼ˆå¦‚11GBï¼‰ï¼Œè¯·æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ä¿®å¤å†…å®¹ï¼š
- macOS APFS ç³»ç»Ÿç°åœ¨æ­£ç¡®æ£€æµ‹ `/System/Volumes/Data` æ•°æ®å·
- è‡ªåŠ¨æ¯”è¾ƒç³»ç»Ÿå¿«ç…§å’Œæ•°æ®å·ï¼Œä½¿ç”¨æ›´å¤§å€¼

```bash
# éªŒè¯ä¿®å¤
df -h /
df -h /System/Volumes/Data

# æŸ¥çœ‹æ—¥å¿—
tail -100 ~/.config/global-scripts/logs/menubar.log | grep -i disk
```

### ç«¯å£ç›‘æ§ä¸å·¥ä½œ

```bash
# æ‰‹åŠ¨æµ‹è¯•ç«¯å£æ£€æµ‹
lsof -i :3000

# é¢„æœŸè¾“å‡ºï¼š
# COMMAND   PID   USER   FD   TYPE   DEVICE SIZE/OFF NODE NAME
# node    12345  user   21u  IPv4  0x1234      0t0  TCP *:3000 (LISTEN)

# æŸ¥çœ‹æ—¥å¿—
tail -100 ~/.config/global-scripts/logs/menubar.log | grep -i port
```

### èœå•æ æœªè‡ªåŠ¨å¯åŠ¨

```bash
# æ£€æŸ¥é…ç½®
cat ~/.config/global-scripts/config/gs.json | grep -A4 menubar

# æŸ¥çœ‹æ—¥å¿—
tail -50 ~/.config/global-scripts/logs/gs.log | grep -i menubar

# æ‰‹åŠ¨å¯åŠ¨æµ‹è¯•
gs menubar start
```

### åº”ç”¨æ˜¾ç¤ºåœ¨ Dock ä¸­

```bash
# æ£€æŸ¥æ¿€æ´»ç­–ç•¥
tail -20 ~/.config/global-scripts/logs/menubar.log | grep activation
# åº”è¯¥çœ‹åˆ°: "Set NSApplicationActivationPolicyAccessory (menu bar only)"

# é‡å¯èœå•æ 
gs menubar stop
sleep 2
gs menubar start
```

### è·‘é©¬ç¯ä¸æ»šåŠ¨

æ£€æŸ¥æ–‡æœ¬å®½åº¦æ˜¯å¦è¶…è¿‡ 30ï¼š
```bash
uv run python -c "
from gscripts.menubar.marquee import Marquee
text = 'GS æ‚¨çš„æ–‡æœ¬å†…å®¹'
m = Marquee(text, max_length=30)
print(f'æ–‡æœ¬: {text}')
print(f'å®½åº¦: {m._display_width}')
print(f'éœ€è¦æ»šåŠ¨: {m.needs_scroll}')
"
```

---

## æ—¥å¿—å’Œè°ƒè¯•

### æ—¥å¿—æ–‡ä»¶

```bash
~/.config/global-scripts/logs/menubar.log
```

### å®æ—¶æŸ¥çœ‹æ—¥å¿—

```bash
# å®æ—¶æŸ¥çœ‹
tail -f ~/.config/global-scripts/logs/menubar.log

# æŸ¥çœ‹æœ€è¿‘ 50 è¡Œ
tail -50 ~/.config/global-scripts/logs/menubar.log

# è¿‡æ»¤ç‰¹å®šå†…å®¹
tail -100 ~/.config/global-scripts/logs/menubar.log | grep -i "command"
```

---

## æŠ€æœ¯å®ç°

### æ¶æ„ç»„ä»¶

| ç»„ä»¶ | æ–‡ä»¶ | è¯´æ˜ |
|------|------|------|
| ä¸»åº”ç”¨ | `menubar/app.py` | rumps èœå•æ åº”ç”¨ä¸»ç±» |
| çŠ¶æ€ç®¡ç† | `menubar/status_manager.py` | å‘½ä»¤çŠ¶æ€æ ¼å¼åŒ– |
| ç³»ç»Ÿç›‘æ§ | `menubar/monitors.py` | CPU/å†…å­˜ç›‘æ§ |
| IPC æœåŠ¡å™¨ | `menubar/ipc.py` | Unix socket æœåŠ¡å™¨ |
| è·‘é©¬ç¯ | `menubar/marquee.py` | æ»šåŠ¨æ–‡æœ¬æ•ˆæœ |
| ä¸€è¨€ API | `menubar/sentence_api.py` | éšæœºå¥å­è·å– |
| å›¾æ ‡ | `menubar/icon.py` | èœå•æ å›¾æ ‡å®šä¹‰ |

### åå°ä»»åŠ¡

1. **ç³»ç»ŸæŒ‡æ ‡æ›´æ–°å™¨**: æ¯ 5 ç§’æ›´æ–° CPU æ¸©åº¦å’Œå†…å­˜ä½¿ç”¨ç‡
2. **ä¸€è¨€æ›´æ–°å™¨**: æ¯ 5 åˆ†é’Ÿè·å–æ–°çš„éšæœºå¥å­ï¼ˆå¯é…ç½®ï¼‰
3. **è·‘é©¬ç¯æ›´æ–°å™¨**: æ¯ 0.3 ç§’æ›´æ–°æ»šåŠ¨ä½ç½®ï¼ˆå¦‚éœ€æ»šåŠ¨ï¼‰
4. **IPC æœåŠ¡å™¨**: ç›‘å¬æ¥è‡ª CLI çš„å‘½ä»¤çŠ¶æ€æ¶ˆæ¯

---

## ç‰¹æ€§å¯¹æ¯”

### ä¸ ClashX é£æ ¼å¯¹æ¯”

| ç‰¹æ€§ | GS èœå•æ  | ClashX | è¯´æ˜ |
|------|----------|--------|------|
| ä»…èœå•æ æ˜¾ç¤º | âœ… | âœ… | ä¸åœ¨ Dock æ˜¾ç¤º |
| Cmd+Tab éšè— | âœ… | âœ… | ä¸åœ¨åº”ç”¨åˆ‡æ¢å™¨æ˜¾ç¤º |
| å®æ—¶çŠ¶æ€æ›´æ–° | âœ… | âœ… | å‘½ä»¤æ‰§è¡ŒçŠ¶æ€ |
| ç³»ç»Ÿç›‘æ§ | âœ… CPU/å†…å­˜ | âœ… ç½‘é€Ÿ/å»¶è¿Ÿ | ä¸åŒç›‘æ§å†…å®¹ |
| æ–‡æœ¬æ˜¾ç¤º | âœ… | âœ… | æ—  emoji å›¾æ ‡ |
| æ·±è‰²æ¨¡å¼é€‚é… | âœ… | âœ… | è‡ªåŠ¨é€‚é…ç³»ç»Ÿä¸»é¢˜ |
| è·‘é©¬ç¯æ•ˆæœ | âœ… | - | GS ç‹¬æœ‰åŠŸèƒ½ |

---

## æœ€ä½³å®è·µ

### 1. é…ç½®ä¼˜åŒ–

**æ€§èƒ½ä¼˜å…ˆ**:
```json
{
  "menubar": {
    "enabled": true,
    "refresh_interval": 10,
    "marquee_update_interval": 0.5
  }
}
```

**è§†è§‰ä¼˜å…ˆ**:
```json
{
  "menubar": {
    "enabled": true,
    "refresh_interval": 3,
    "marquee_update_interval": 0.2
  }
}
```

### 2. ä½¿ç”¨åœºæ™¯

- **é•¿æ—¶é—´å‘½ä»¤**: äº†è§£è¿›åº¦å’Œå‰©ä½™æ—¶é—´
- **åå°æ‰§è¡Œ**: å‘½ä»¤åœ¨åå°è¿è¡Œæ—¶ä¿æŒçŠ¶æ€å¯è§
- **ç³»ç»Ÿç›‘æ§**: å®æ—¶æŸ¥çœ‹ CPU æ¸©åº¦å’Œå†…å­˜ä½¿ç”¨
- **å¤šä»»åŠ¡å·¥ä½œ**: æ— éœ€åˆ‡æ¢ç»ˆç«¯çª—å£å³å¯æŸ¥çœ‹çŠ¶æ€

### 3. æ€§èƒ½å»ºè®®

- `refresh_interval` è®¾ç½® 5-10 ç§’å³å¯
- `marquee_update_interval` å»ºè®® 0.2-0.5 ç§’
- `sentence_refresh_interval` å»ºè®® 5-10 åˆ†é’Ÿ

---

## é™åˆ¶å’Œæ³¨æ„äº‹é¡¹

1. **ä»…æ”¯æŒ macOS**: èœå•æ åŠŸèƒ½ä»…åœ¨ macOS ä¸Šå¯ç”¨
2. **éœ€è¦ rumps**: å¿…é¡»å®‰è£… `rumps` åº“
3. **Apple Silicon æ¸©åº¦**: æ¸©åº¦è¯»å–ä¸ºè¿‘ä¼¼å€¼ï¼Œéç²¾ç¡®æµ‹é‡
4. **æ–‡æœ¬é•¿åº¦**: è¶…é•¿æ–‡æœ¬ä¼šå¯ç”¨è·‘é©¬ç¯ï¼Œå¯èƒ½å½±å“å¯è¯»æ€§
5. **çŠ¶æ€æ¸…é™¤**: 5 ç§’åè‡ªåŠ¨æ¸…é™¤ï¼Œå¦‚éœ€æ›´é•¿æ—¶é—´è¯·ä¿®æ”¹é…ç½®

---

## å¸¸è§é—®é¢˜ (FAQ)

### Q: å¦‚ä½•æ›´æ”¹èœå•æ å›¾æ ‡ï¼Ÿ

A: å½“å‰ä½¿ç”¨ "GS" æ–‡å­—å›¾æ ‡ã€‚æœªæ¥ç‰ˆæœ¬å°†æ”¯æŒè‡ªå®šä¹‰å›¾æ ‡æ–‡ä»¶ã€‚å¯ä»¥ä¸´æ—¶ä¿®æ”¹ `src/gscripts/menubar/icon.py` ä¸­çš„ `MENUBAR_ICON` å˜é‡ã€‚

### Q: ä¸ºä»€ä¹ˆç©ºé—²çŠ¶æ€ä¸æ˜¾ç¤ºä¸€è¨€ï¼Ÿ

A: ä¸ºé¿å…æŒ¤æ‰å…¶ä»–èœå•æ å›¾æ ‡ï¼Œç©ºé—²çŠ¶æ€ä»…æ˜¾ç¤º "GS"ã€‚ä¸€è¨€åŠŸèƒ½å·²å®ç°ä½†é»˜è®¤ç¦ç”¨ã€‚

### Q: å¦‚ä½•å»¶é•¿çŠ¶æ€æ˜¾ç¤ºæ—¶é—´ï¼Ÿ

A: ä¿®æ”¹ `src/gscripts/menubar/app.py` ä¸­çš„ `threading.Timer(5.0, self._clear_status)` å‚æ•°ï¼ˆå½“å‰ä¸º 5 ç§’ï¼‰ã€‚

### Q: è·‘é©¬ç¯æ»šåŠ¨å¤ªå¿«/å¤ªæ…¢ï¼Ÿ

A: åœ¨é…ç½®ä¸­è°ƒæ•´ `marquee_update_interval` å‚æ•°ï¼ˆé»˜è®¤ 0.3 ç§’ï¼‰ã€‚

### Q: æ”¯æŒ Windows/Linux å—ï¼Ÿ

A: ä¸æ”¯æŒã€‚èœå•æ åŠŸèƒ½ä»…é™ macOSã€‚å…¶ä»–å¹³å°å¯ä»¥è€ƒè™‘ä½¿ç”¨ç³»ç»Ÿæ‰˜ç›˜å®ç°ã€‚

---

## æ›´æ–°æ—¥å¿—

### ç‰ˆæœ¬ 5.2.0 (2025-11-09)

**é‡å¤§æ›´æ–°**:
- âœ¨ **ç£ç›˜ç›‘æ§** (Phase 6.2): ç£ç›˜ä½¿ç”¨é‡ã€I/Oé€Ÿåº¦ã€å‹åŠ›ç­‰çº§
- âœ¨ **ç”µæ± ç›‘æ§** (Phase 3): ç”µæ± å¥åº·ã€å¾ªç¯æ¬¡æ•°ã€æ¸©åº¦ã€å‰©ä½™æ—¶é—´
- âœ¨ **ç«¯å£ç›‘æ§** (Phase 5): å¸¸ç”¨å¼€å‘ç«¯å£å ç”¨æ£€æµ‹ã€è¿›ç¨‹ç»ˆæ­¢
- âœ¨ **æ¸©åº¦è­¦æŠ¥** (Phase 6): å¯é…ç½®æ¸©åº¦é˜ˆå€¼ã€ä¸‰çº§è­¦æŠ¥çŠ¶æ€ï¼ˆğŸŸ¢/ğŸŸ¡/ğŸ”´ï¼‰
- âœ¨ **æŒ‰éœ€ç›‘æ§** (Phase 6.1): ä»…åœ¨èœå•æ‰“å¼€æ—¶æ›´æ–°ï¼ŒèŠ‚çœ80% CPUä½¿ç”¨
- âœ¨ **å‘½ä»¤å†å²** (Phase 1): æœ€è¿‘å‘½ä»¤è®°å½•ã€é‡æ”¾åŠŸèƒ½
- âœ¨ **è‡ªå®šä¹‰å¿«æ·æ–¹å¼** (Phase 2): å¿«é€Ÿæ‰§è¡Œå¸¸ç”¨å‘½ä»¤

**å…³é”®ä¿®å¤**:
- ğŸ› **ä¿®å¤ç”µæ± å¥åº·è®¡ç®—**: æ–°ç”µè„‘é”™è¯¯æ˜¾ç¤º2%å¥åº·åº¦ï¼ˆç°åœ¨æ­£ç¡®æ˜¾ç¤º102.9%ï¼‰
  - ä½¿ç”¨ `AppleRawMaxCapacity` å­—æ®µï¼ˆå®é™…mAhï¼‰æ›¿ä»£ `MaxCapacity`ï¼ˆç™¾åˆ†æ¯”ï¼‰
  - ä¿®æ­£æ¸©åº¦å•ä½è½¬æ¢ï¼ˆdecikelvin â†’ Â°Cï¼‰
- ğŸ› **ä¿®å¤ç£ç›˜ä½¿ç”¨é‡è®¡ç®—**: macOS APFS ç³»ç»Ÿé”™è¯¯æ˜¾ç¤º11GBï¼ˆç°åœ¨æ­£ç¡®æ˜¾ç¤º336GBï¼‰
  - æ£€æµ‹ `/System/Volumes/Data` æ•°æ®å·è€Œéä»…ç³»ç»Ÿå¿«ç…§
  - è‡ªåŠ¨é€‰æ‹©ä½¿ç”¨é‡æ›´å¤§çš„å·

**æ€§èƒ½ä¼˜åŒ–**:
- âš¡ æŒ‰éœ€ç›‘æ§æ¨¡å¼å‡å°‘80%+ CPUä½¿ç”¨
- âš¡ æ‰€æœ‰ç›‘æ§å™¨æ”¯æŒç¼“å­˜ï¼ˆ1-2ç§’ï¼‰
- âš¡ ç«¯å£æ£€æµ‹ä½¿ç”¨å¹¶å‘æ£€æŸ¥ï¼ˆThreadPoolExecutorï¼‰

**æµ‹è¯•è¦†ç›–**:
- âœ… æ–°å¢ 17 ä¸ªæ¸©åº¦è­¦æŠ¥å•å…ƒæµ‹è¯•ï¼ˆ100%é€šè¿‡ï¼‰
- âœ… å®Œå–„ç”µæ± ã€ç£ç›˜ã€ç«¯å£ç›‘æ§æµ‹è¯•

### ç‰ˆæœ¬ 5.2.0-dev (å†å²ç‰ˆæœ¬)
- âœ¨ æ–°å¢è·‘é©¬ç¯æ»šåŠ¨æ•ˆæœ
- âœ¨ æ–°å¢ä¸€è¨€ API é›†æˆ
- âœ¨ æ”¯æŒå‘½ä»¤è¾“å‡ºæ˜¾ç¤º
- âœ¨ ä¼˜åŒ– Apple Silicon CPU æ¸©åº¦æ£€æµ‹
- ğŸ› ä¿®å¤ Dock å›¾æ ‡æ˜¾ç¤ºé—®é¢˜
- ğŸ› ä¿®å¤çŠ¶æ€æ¸…é™¤æ—¶é—´ï¼ˆ15s â†’ 5sï¼‰
- ğŸ¨ å›¾æ ‡æ”¹ä¸º "GS" æ–‡å­—ï¼ˆå¯é…ç½®ï¼‰

---

## ç›¸å…³èµ„æº

- [GS ä¸»æ–‡æ¡£](../README.md)
- [æ’ä»¶å¼€å‘æŒ‡å—](./plugin-development.md)
- [æ¶æ„æ–‡æ¡£](./architecture.md)
- [è´¡çŒ®æŒ‡å—](./contributing.md)
