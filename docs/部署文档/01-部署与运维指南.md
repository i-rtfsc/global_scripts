# Global Scripts V3 éƒ¨ç½²ä¸è¿ç»´æŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜Global Scripts V3çš„éƒ¨ç½²æµç¨‹ã€ç¯å¢ƒé…ç½®ã€è¿ç»´ç®¡ç†å’Œæ•…éšœæ’é™¤ï¼Œç¡®ä¿ç³»ç»Ÿåœ¨å„ç§ç¯å¢ƒä¸‹ç¨³å®šè¿è¡Œã€‚

## ğŸ¯ éƒ¨ç½²ç›®æ ‡ä¸è¦æ±‚

### æ ¸å¿ƒéƒ¨ç½²ç›®æ ‡
- **å¿«é€Ÿéƒ¨ç½²**: 5åˆ†é’Ÿå†…å®ŒæˆåŸºç¡€å®‰è£…é…ç½®
- **é›¶ä¾èµ–å†²çª**: ä¸ç°æœ‰ç³»ç»Ÿå’Œå·¥å…·æ— å†²çª
- **è·¨å¹³å°æ”¯æŒ**: æ”¯æŒmacOSã€Linuxã€WSLç­‰ä¸»æµç¯å¢ƒ
- **ç”¨æˆ·å‹å¥½**: æä¾›å¤šç§å®‰è£…æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒç”¨æˆ·éœ€æ±‚

### ç³»ç»Ÿè¦æ±‚
```bash
# æœ€ä½ç³»ç»Ÿè¦æ±‚
æ“ä½œç³»ç»Ÿ: macOS 10.12+, Linux (Ubuntu 16.04+, CentOS 7+), Windows WSL
Shellç¯å¢ƒ: Bash 3.2+, Zsh 5.0+
ç£ç›˜ç©ºé—´: 50MB (åŸºç¡€å®‰è£…), 200MB (å®Œæ•´å®‰è£…)
å†…å­˜è¦æ±‚: 10MBè¿è¡Œæ—¶å†…å­˜
ç½‘ç»œè¦æ±‚: å¯é€‰ï¼ˆä»…ä¸‹è½½å’Œæ›´æ–°æ—¶éœ€è¦ï¼‰

# æ¨èç³»ç»Ÿé…ç½®
æ“ä½œç³»ç»Ÿ: macOS 12+, Ubuntu 20.04+, CentOS 8+
Shellç¯å¢ƒ: Bash 4.0+, Zsh 5.8+
ç£ç›˜ç©ºé—´: 500MB (é¢„ç•™æœªæ¥æ‰©å±•)
å†…å­˜è¦æ±‚: 50MBå¯ç”¨å†…å­˜
```

## ğŸš€ å®‰è£…éƒ¨ç½²æ–¹å¼

### 1. è‡ªåŠ¨å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰

#### ä¸€é”®å®‰è£…
```bash
# å…‹éš†ä»£ç åº“å¹¶å®‰è£…
git clone https://github.com/i-rtfsc/global_scripts
cd global_scripts
chmod +x install.sh
./install.sh
```

#### å®‰è£…è„šæœ¬è¯¦ç»†è¯´æ˜
```bash
#!/bin/bash
# Global Scripts V3 è‡ªåŠ¨å®‰è£…è„šæœ¬
# æ–‡ä»¶: install.sh

set -euo pipefail

# é…ç½®å¸¸é‡
GS_VERSION="3.0.0"
GS_REPO_URL="https://github.com/i-rtfsc/global_scripts"
GS_INSTALL_DIR="${HOME}/.globalscripts"
GS_BACKUP_DIR="${HOME}/.globalscripts.backup.$(date +%Y%m%d_%H%M%S)"

# é¢œè‰²è¾“å‡º
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# æ—¥å¿—å‡½æ•°
log_info() {
    echo -e "${BLUE}[INFO]${NC} $1"
}

log_success() {
    echo -e "${GREEN}[SUCCESS]${NC} $1"
}

log_warn() {
    echo -e "${YELLOW}[WARN]${NC} $1"
}

log_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

# ç¯å¢ƒæ£€æµ‹
detect_environment() {
    log_info "æ£€æµ‹ç³»ç»Ÿç¯å¢ƒ..."
    
    # æ“ä½œç³»ç»Ÿæ£€æµ‹
    case "$(uname -s)" in
        Darwin*)
            OS="macos"
            log_info "æ£€æµ‹åˆ°æ“ä½œç³»ç»Ÿ: macOS"
            ;;
        Linux*)
            OS="linux"
            log_info "æ£€æµ‹åˆ°æ“ä½œç³»ç»Ÿ: Linux"
            ;;
        CYGWIN*|MINGW*|MSYS*)
            OS="windows"
            log_info "æ£€æµ‹åˆ°æ“ä½œç³»ç»Ÿ: Windows"
            ;;
        *)
            log_error "ä¸æ”¯æŒçš„æ“ä½œç³»ç»Ÿ: $(uname -s)"
            exit 1
            ;;
    esac
    
    # Shellç¯å¢ƒæ£€æµ‹
    if [[ -n "${BASH_VERSION:-}" ]]; then
        SHELL_TYPE="bash"
        SHELL_VERSION="${BASH_VERSION%%.*}"
        log_info "æ£€æµ‹åˆ°Shell: Bash $SHELL_VERSION"
    elif [[ -n "${ZSH_VERSION:-}" ]]; then
        SHELL_TYPE="zsh"
        SHELL_VERSION="${ZSH_VERSION%%.*}"
        log_info "æ£€æµ‹åˆ°Shell: Zsh $SHELL_VERSION"
    else
        log_warn "æ— æ³•ç¡®å®šShellç±»å‹ï¼Œå‡è®¾ä¸ºBash"
        SHELL_TYPE="bash"
        SHELL_VERSION="3"
    fi
    
    # å¿…éœ€å·¥å…·æ£€æµ‹
    local required_tools=("git" "curl" "tar")
    for tool in "${required_tools[@]}"; do
        if ! command -v "$tool" >/dev/null 2>&1; then
            log_error "ç¼ºå°‘å¿…éœ€å·¥å…·: $tool"
            log_error "è¯·å®‰è£… $tool åé‡è¯•"
            exit 1
        fi
    done
    
    log_success "ç¯å¢ƒæ£€æµ‹å®Œæˆ"
}

# å¤‡ä»½ç°æœ‰å®‰è£…
backup_existing_installation() {
    if [[ -d "$GS_INSTALL_DIR" ]]; then
        log_info "å‘ç°ç°æœ‰å®‰è£…ï¼Œåˆ›å»ºå¤‡ä»½..."
        
        # åˆ›å»ºå¤‡ä»½ç›®å½•
        mkdir -p "$GS_BACKUP_DIR"
        
        # å¤åˆ¶ç°æœ‰å®‰è£…
        cp -r "$GS_INSTALL_DIR"/* "$GS_BACKUP_DIR/" 2>/dev/null || true
        
        log_success "å¤‡ä»½å·²åˆ›å»º: $GS_BACKUP_DIR"
        
        # æç¤ºç”¨æˆ·ç¡®è®¤
        echo -n "æ˜¯å¦ç»§ç»­å®‰è£…ï¼Ÿç°æœ‰é…ç½®å°†è¢«è¦†ç›– [y/N]: "
        read -r response
        if [[ ! "$response" =~ ^[Yy]$ ]]; then
            log_info "å®‰è£…å·²å–æ¶ˆ"
            exit 0
        fi
    fi
}

# ä¸‹è½½å’Œå®‰è£…
download_and_install() {
    log_info "ä¸‹è½½Global Scripts V3..."
    
    # åˆ›å»ºä¸´æ—¶ç›®å½•
    local temp_dir
    temp_dir=$(mktemp -d)
    cd "$temp_dir"
    
    # ä¸‹è½½æºç 
    if ! git clone --depth 1 --branch "v$GS_VERSION" "$GS_REPO_URL" globalscripts; then
        log_error "ä¸‹è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"
        exit 1
    fi
    
    log_info "å®‰è£…Global Scripts V3..."
    
    # åˆ›å»ºå®‰è£…ç›®å½•
    mkdir -p "$GS_INSTALL_DIR"
    
    # å¤åˆ¶æ–‡ä»¶
    cp -r globalscripts/* "$GS_INSTALL_DIR/"
    
    # è®¾ç½®æƒé™
    chmod +x "$GS_INSTALL_DIR/gs_env.sh"
    chmod +x "$GS_INSTALL_DIR/tools/"*.sh 2>/dev/null || true
    
    # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
    cd /
    rm -rf "$temp_dir"
    
    log_success "æ–‡ä»¶å®‰è£…å®Œæˆ"
}

# é…ç½®Shellç¯å¢ƒ
configure_shell() {
    log_info "é…ç½®Shellç¯å¢ƒ..."
    
    local shell_rc_file
    case "$SHELL_TYPE" in
        "bash")
            if [[ "$OS" == "macos" ]]; then
                shell_rc_file="$HOME/.bash_profile"
            else
                shell_rc_file="$HOME/.bashrc"
            fi
            ;;
        "zsh")
            shell_rc_file="$HOME/.zshrc"
            ;;
        *)
            shell_rc_file="$HOME/.profile"
            ;;
    esac
    
    # æ£€æŸ¥æ˜¯å¦å·²ç»é…ç½®
    if grep -q "Global Scripts V3" "$shell_rc_file" 2>/dev/null; then
        log_info "æ£€æµ‹åˆ°ç°æœ‰é…ç½®ï¼Œè·³è¿‡Shellé…ç½®"
        return 0
    fi
    
    # æ·»åŠ é…ç½®åˆ°Shellé…ç½®æ–‡ä»¶
    {
        echo ""
        echo "# Global Scripts V3 - Auto-generated configuration"
        echo "# Do not edit this section manually"
        echo "if [[ -f \"$GS_INSTALL_DIR/gs_env.sh\" ]]; then"
        echo "    source \"$GS_INSTALL_DIR/gs_env.sh\""
        echo "fi"
        echo "# End of Global Scripts V3 configuration"
        echo ""
    } >> "$shell_rc_file"
    
    log_success "Shellé…ç½®å·²æ·»åŠ åˆ°: $shell_rc_file"
}

# éªŒè¯å®‰è£…
verify_installation() {
    log_info "éªŒè¯å®‰è£…..."
    
    # ä¸´æ—¶åŠ è½½ç¯å¢ƒ
    if ! source "$GS_INSTALL_DIR/gs_env.sh" 2>/dev/null; then
        log_error "æ— æ³•åŠ è½½Global Scriptsç¯å¢ƒ"
        return 1
    fi
    
    # æ£€æŸ¥æ ¸å¿ƒå‘½ä»¤
    # æ³¨æ„ï¼šè¿™äº›ç³»ç»Ÿå‘½ä»¤ç›®å‰è¿˜æœªå®ç°ï¼Œè¿™é‡Œæ˜¯é¢„æœŸçš„å‘½ä»¤æ£€æŸ¥
    local core_commands=("gs-help" "gs-status" "gs-version")
    for cmd in "${core_commands[@]}"; do
        if ! command -v "$cmd" >/dev/null 2>&1; then
            log_error "æ ¸å¿ƒå‘½ä»¤ä¸å¯ç”¨: $cmd"
            return 1
        fi
    done
    
    # æ‰§è¡ŒåŸºæœ¬æµ‹è¯•
    # æ³¨æ„ï¼šç³»ç»Ÿå‘½ä»¤è¿˜æœªå®ç°ï¼Œæ­¤å¤„ä»…ä¸ºç¤ºä¾‹ä»£ç 
    if ! gs-version >/dev/null 2>&1; then
        log_error "ç‰ˆæœ¬å‘½ä»¤æ‰§è¡Œå¤±è´¥"
        return 1
    fi
    
    log_success "å®‰è£…éªŒè¯é€šè¿‡"
    return 0
}

# å®‰è£…åé…ç½®
post_install_setup() {
    log_info "æ‰§è¡Œå®‰è£…åé…ç½®..."
    
    # åˆå§‹åŒ–é…ç½®
    if [[ -f "$GS_INSTALL_DIR/tools/gs-config-init.sh" ]]; then
        "$GS_INSTALL_DIR/tools/gs-config-init.sh" --auto
    fi
    
    # ç”Ÿæˆå‘½ä»¤ç¼“å­˜
    if [[ -f "$GS_INSTALL_DIR/tools/gs-cache-build.sh" ]]; then
        "$GS_INSTALL_DIR/tools/gs-cache-build.sh"
    fi
    
    log_success "å®‰è£…åé…ç½®å®Œæˆ"
}

# æ˜¾ç¤ºå®‰è£…å®Œæˆä¿¡æ¯
show_completion_info() {
    echo ""
    log_success "ğŸ‰ Global Scripts V3 å®‰è£…å®Œæˆï¼"
    echo ""
    echo "ğŸ“ å®‰è£…ç›®å½•: $GS_INSTALL_DIR"
    echo "âš™ï¸  é…ç½®æ–‡ä»¶: $(get_shell_rc_file)"
    echo ""
    echo "ğŸš€ å¼€å§‹ä½¿ç”¨:"
    echo "   1. é‡å¯ç»ˆç«¯æˆ–æ‰§è¡Œ: source $(get_shell_rc_file)"
    echo "   2. è¿è¡Œå¸®åŠ©å‘½ä»¤: gs-helpï¼ˆå¼€å‘å®Œæˆåï¼‰"
    echo "   3. æŸ¥çœ‹çŠ¶æ€: gs-statusï¼ˆå¼€å‘å®Œæˆåï¼‰"
    echo ""
    echo "ğŸ“š æ–‡æ¡£å’Œæ”¯æŒ:"
    echo "   - é¡¹ç›®åœ°å€: https://github.com/i-rtfsc/global_scripts"
    echo "   - é—®é¢˜æŠ¥å‘Š: https://github.com/i-rtfsc/global_scripts/issues"
    echo ""
    
    if [[ -n "${GS_BACKUP_DIR:-}" ]] && [[ -d "$GS_BACKUP_DIR" ]]; then
        echo "ğŸ’¾ å¤‡ä»½ä½ç½®: $GS_BACKUP_DIR"
        echo "   å¦‚é‡é—®é¢˜å¯ä½¿ç”¨å¤‡ä»½æ¢å¤"
        echo ""
    fi
}

# è·å–Shellé…ç½®æ–‡ä»¶è·¯å¾„
get_shell_rc_file() {
    case "$SHELL_TYPE" in
        "bash")
            if [[ "$OS" == "macos" ]]; then
                echo "$HOME/.bash_profile"
            else
                echo "$HOME/.bashrc"
            fi
            ;;
        "zsh")
            echo "$HOME/.zshrc"
            ;;
        *)
            echo "$HOME/.profile"
            ;;
    esac
}

# ä¸»å®‰è£…æµç¨‹
main() {
    echo "ğŸš€ Global Scripts V3 è‡ªåŠ¨å®‰è£…ç¨‹åº"
    echo "======================================"
    echo ""
    
    # æ£€æŸ¥æ˜¯å¦ä»¥rootç”¨æˆ·è¿è¡Œ
    if [[ $EUID -eq 0 ]]; then
        log_error "è¯·ä¸è¦ä»¥rootç”¨æˆ·è¿è¡Œå®‰è£…ç¨‹åº"
        exit 1
    fi
    
    # æ‰§è¡Œå®‰è£…æ­¥éª¤
    detect_environment
    backup_existing_installation
    download_and_install
    configure_shell
    
    # éªŒè¯å®‰è£…
    if verify_installation; then
        post_install_setup
        show_completion_info
    else
        log_error "å®‰è£…éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯"
        exit 1
    fi
}

# é”™è¯¯å¤„ç†
trap 'log_error "å®‰è£…è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œè¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯"' ERR

# æ‰§è¡Œä¸»ç¨‹åº
main "$@"
```

### 2. æ‰‹åŠ¨å®‰è£…æ–¹å¼

#### Gitå…‹éš†å®‰è£…
```bash
# å…‹éš†ä»£ç åº“
git clone https://github.com/i-rtfsc/global_scripts.git ~/.globalscripts
cd ~/.globalscripts

# æ£€å‡ºæŒ‡å®šç‰ˆæœ¬
git checkout v3.0.0

# è¿è¡Œå®‰è£…è„šæœ¬
./scripts/manual_install.sh
```

#### ç¦»çº¿å®‰è£…åŒ…
```bash
# ä¸‹è½½ç¦»çº¿å®‰è£…åŒ…
wget https://releases.globalscripts.dev/v3.0.0/globalscripts-v3.0.0.tar.gz

# è§£å‹åˆ°ç›®æ ‡ç›®å½•
tar -xzf globalscripts-v3.0.0.tar.gz -C ~/.globalscripts

# æ‰§è¡Œå®‰è£…
cd ~/.globalscripts
./scripts/offline_install.sh
```

### 3. ä¼ä¸šéƒ¨ç½²æ–¹å¼

#### æ‰¹é‡éƒ¨ç½²è„šæœ¬
```bash
#!/bin/bash
# ä¼ä¸šæ‰¹é‡éƒ¨ç½²è„šæœ¬
# æ–‡ä»¶: scripts/enterprise_deploy.sh

# ä¼ä¸šé…ç½®ï¼ˆä½¿ç”¨.metaé…ç½®æ ¼å¼ï¼‰
ENTERPRISE_CONFIG_URL="https://config.company.com/globalscripts/config.meta"
ENTERPRISE_PLUGIN_REPO="https://git.company.com/globalscripts-plugins"

# æ‰¹é‡éƒ¨ç½²åˆ°å¤šå°æœºå™¨
deploy_to_hosts() {
    local hosts_file="$1"
    local deploy_user="${2:-admin}"
    
    while read -r host; do
        echo "ğŸš€ éƒ¨ç½²åˆ°ä¸»æœº: $host"
        
        # é€šè¿‡SSHéƒ¨ç½²
        ssh "$deploy_user@$host" bash << 'EOF'
            # ä¸‹è½½å¹¶æ‰§è¡Œå®‰è£…è„šæœ¬
            curl -fsSL https://install.globalscripts.dev/enterprise.sh | bash
            
            # åº”ç”¨ä¼ä¸šé…ç½®
            gs-config import "$ENTERPRISE_CONFIG_URL"
            
            # å®‰è£…ä¼ä¸šæ’ä»¶
            gs-plugin install --repo "$ENTERPRISE_PLUGIN_REPO" --all
EOF
        
        echo "âœ… ä¸»æœº $host éƒ¨ç½²å®Œæˆ"
    done < "$hosts_file"
}

# é…ç½®ç®¡ç†ï¼ˆä½¿ç”¨.metaæ ¼å¼æ›¿ä»£JSONï¼‰
setup_enterprise_config() {
    cat > ~/.globalscripts/config/enterprise.meta << 'EOF'
# ä¼ä¸šé…ç½® - .metaæ ¼å¼
ORGANIZATION="Company Name"
DEFAULT_PLUGINS="android,git,system,enterprise"
SECURITY_ALLOWED_REPOS="company-internal"
SECURITY_DISABLE_EXTERNAL_PLUGINS="true"
LOGGING_LEVEL="INFO"
LOGGING_REMOTE_SERVER="log.company.com"
EOF
}
```

## âš™ï¸ é…ç½®ç®¡ç†

### 1. åŸºç¡€é…ç½®æ–‡ä»¶

#### ä¸»é…ç½®æ–‡ä»¶ç»“æ„
```bash
# é…ç½®æ–‡ä»¶ç›®å½•ç»“æ„ï¼ˆä½¿ç”¨.metaæ ¼å¼ï¼‰
~/.globalscripts/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ default.meta          # é»˜è®¤é…ç½®
â”‚   â”œâ”€â”€ user.meta            # ç”¨æˆ·è‡ªå®šä¹‰é…ç½®
â”‚   â”œâ”€â”€ local.meta           # æœ¬åœ°ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ enterprise.meta      # ä¼ä¸šé…ç½®ï¼ˆå¦‚æœæœ‰ï¼‰
â”œâ”€â”€ cache/
â”‚   â”œâ”€â”€ plugins.cache        # æ’ä»¶ç¼“å­˜
â”‚   â”œâ”€â”€ commands.cache       # å‘½ä»¤ç¼“å­˜
â”‚   â””â”€â”€ metadata.cache       # å…ƒæ•°æ®ç¼“å­˜
â””â”€â”€ logs/
    â”œâ”€â”€ system.log          # ç³»ç»Ÿæ—¥å¿—
    â”œâ”€â”€ error.log           # é”™è¯¯æ—¥å¿—
    â””â”€â”€ performance.log     # æ€§èƒ½æ—¥å¿—
```

#### é»˜è®¤é…ç½®ç¤ºä¾‹ï¼ˆ.metaæ ¼å¼ï¼‰
```bash
# Global Scripts V3 é»˜è®¤é…ç½® - default.meta
VERSION="3.0.0"

# æ ¸å¿ƒé…ç½®
CORE_STARTUP_MODE="fast"
CORE_CACHE_ENABLED="true"
CORE_CACHE_TTL="3600"
CORE_LOG_LEVEL="INFO"
CORE_AUTO_UPDATE="false"

# æ’ä»¶é…ç½®
PLUGINS_AUTO_LOAD="android,git,system"
PLUGINS_LAZY_LOAD="themes,tools"
PLUGINS_DISABLED=""

# æ€§èƒ½é…ç½®
PERFORMANCE_STARTUP_TIMEOUT="10000"
PERFORMANCE_MEMORY_LIMIT="10485760"
PERFORMANCE_CACHE_SIZE="1000"

# UIé…ç½®
UI_COLOR_OUTPUT="true"
UI_PROGRESS_BARS="true"
UI_COMPLETION_ENABLED="true"
```

### 2. ç¯å¢ƒå˜é‡é…ç½®

#### æ ¸å¿ƒç¯å¢ƒå˜é‡
```bash
# Global Scriptsç¯å¢ƒå˜é‡
export GS_ROOT="$HOME/.globalscripts"
export GS_CONFIG_DIR="$GS_ROOT/config"
export GS_CACHE_DIR="$GS_ROOT/cache"
export GS_LOG_DIR="$GS_ROOT/logs"
export GS_PLUGIN_DIR="$GS_ROOT/plugins"

# æ€§èƒ½é…ç½®
export GS_STARTUP_MODE="fast"        # å¯åŠ¨æ¨¡å¼: fast|normal|debug
export GS_CACHE_ENABLED="true"       # æ˜¯å¦å¯ç”¨ç¼“å­˜
export GS_CACHE_TTL="3600"           # ç¼“å­˜è¿‡æœŸæ—¶é—´(ç§’)
export GS_LOG_LEVEL="INFO"           # æ—¥å¿—çº§åˆ«: DEBUG|INFO|WARN|ERROR

# å¼€å‘é…ç½®
export GS_DEBUG_MODE="false"         # è°ƒè¯•æ¨¡å¼
export GS_PERFORMANCE_MONITORING="false"  # æ€§èƒ½ç›‘æ§
export GS_AUTO_UPDATE="false"        # è‡ªåŠ¨æ›´æ–°

# ç½‘ç»œé…ç½®
export GS_PROXY_ENABLED="false"      # ä»£ç†è®¾ç½®
export GS_PROXY_URL=""               # ä»£ç†URL
export GS_TIMEOUT="30"               # ç½‘ç»œè¶…æ—¶æ—¶é—´

# ç”¨æˆ·ç•Œé¢é…ç½®
export GS_COLOR_OUTPUT="true"        # å½©è‰²è¾“å‡º
export GS_PROGRESS_BARS="true"       # è¿›åº¦æ¢æ˜¾ç¤º
export GS_COMPLETION_ENABLED="true"  # Tabè¡¥å…¨
```

### 3. æ’ä»¶é…ç½®ç®¡ç†

#### æ’ä»¶é…ç½®æ–‡ä»¶
```bash
# æ’ä»¶é…ç½®ç›®å½•ï¼ˆä½¿ç”¨.metaæ ¼å¼ï¼‰
~/.globalscripts/plugins/
â”œâ”€â”€ android/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ android.meta      # Androidæ’ä»¶é…ç½®
â”‚   â”‚   â””â”€â”€ devices.meta      # è®¾å¤‡é…ç½®
â”‚   â””â”€â”€ cache/
â”‚       â””â”€â”€ device_list.cache # è®¾å¤‡åˆ—è¡¨ç¼“å­˜
â”œâ”€â”€ git/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ git.meta         # Gitæ’ä»¶é…ç½®
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ commit_template.txt
â””â”€â”€ system/
    â”œâ”€â”€ config/
    â”‚   â””â”€â”€ system.meta      # ç³»ç»Ÿæ’ä»¶é…ç½®
    â””â”€â”€ cache/
        â””â”€â”€ proxy_config.cache
```

#### Androidæ’ä»¶é…ç½®ç¤ºä¾‹ï¼ˆ.metaæ ¼å¼ï¼‰
```bash
# Androidæ’ä»¶é…ç½® - android.meta
ANDROID_SDK_PATH="/opt/android-sdk"
DEFAULT_DEVICE="auto"
ADB_TIMEOUT="30"
AUTO_DETECT_DEVICES="true"

# è®¾å¤‡è¿‡æ»¤é…ç½®
DEVICE_FILTERS_EXCLUDE_EMULATORS="false"
DEVICE_FILTERS_EXCLUDE_OFFLINE="true"

# Pushè®¾ç½®
PUSH_SETTINGS_VERIFY_PUSH="true"
PUSH_SETTINGS_BACKUP_BEFORE_PUSH="true"
PUSH_SETTINGS_DEFAULT_PERMISSIONS="644"
```

## ğŸ”§ è¿ç»´ç®¡ç†

### 1. ç³»ç»Ÿç›‘æ§

#### å¥åº·æ£€æŸ¥è„šæœ¬
```bash
#!/bin/bash
# Global Scriptså¥åº·æ£€æŸ¥è„šæœ¬
# æ–‡ä»¶: tools/gs-health-check.sh

gs_health_check() {
    echo "ğŸ¥ Global Scripts V3 å¥åº·æ£€æŸ¥"
    echo "=============================="
    
    local issues=0
    
    # 1. æ ¸å¿ƒæ–‡ä»¶æ£€æŸ¥
    echo "1. æ£€æŸ¥æ ¸å¿ƒæ–‡ä»¶..."
    local core_files=(
        "$GS_ROOT/gs_env.sh"
        "$GS_ROOT/core/logger.sh"
        "$GS_ROOT/core/cache_manager.sh"
        "$GS_ROOT/core/plugin_detector.sh"
    )
    
    for file in "${core_files[@]}"; do
        if [[ ! -f "$file" ]]; then
            echo "   âŒ ç¼ºå°‘æ ¸å¿ƒæ–‡ä»¶: $file"
            ((issues++))
        else
            echo "   âœ… $file"
        fi
    done
    
    # 2. é…ç½®æ–‡ä»¶æ£€æŸ¥
    echo "2. æ£€æŸ¥é…ç½®æ–‡ä»¶..."
    if [[ ! -f "$GS_CONFIG_DIR/default.meta" ]]; then
        echo "   âŒ ç¼ºå°‘é»˜è®¤é…ç½®æ–‡ä»¶"
        ((issues++))
    else
        # éªŒè¯.metaæ ¼å¼
        if ! source "$GS_CONFIG_DIR/default.meta" 2>/dev/null; then
            echo "   âŒ é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯"
            ((issues++))
        else
            echo "   âœ… é…ç½®æ–‡ä»¶æ ¼å¼æ­£ç¡®"
        fi
    fi
    
    # 3. æƒé™æ£€æŸ¥
    echo "3. æ£€æŸ¥æ–‡ä»¶æƒé™..."
    if [[ ! -x "$GS_ROOT/gs_env.sh" ]]; then
        echo "   âŒ ä¸»å…¥å£æ–‡ä»¶ä¸å¯æ‰§è¡Œ"
        ((issues++))
    else
        echo "   âœ… ä¸»å…¥å£æ–‡ä»¶æƒé™æ­£ç¡®"
    fi
    
    # 4. ç¼“å­˜ç›®å½•æ£€æŸ¥
    echo "4. æ£€æŸ¥ç¼“å­˜ç³»ç»Ÿ..."
    if [[ ! -d "$GS_CACHE_DIR" ]]; then
        echo "   âŒ ç¼“å­˜ç›®å½•ä¸å­˜åœ¨"
        ((issues++))
    elif [[ ! -w "$GS_CACHE_DIR" ]]; then
        echo "   âŒ ç¼“å­˜ç›®å½•ä¸å¯å†™"
        ((issues++))
    else
        local cache_size
        cache_size=$(du -sh "$GS_CACHE_DIR" | cut -f1)
        echo "   âœ… ç¼“å­˜ç›®å½•æ­£å¸¸ (å¤§å°: $cache_size)"
    fi
    
    # 5. æ€§èƒ½æ£€æŸ¥
    echo "5. æ£€æŸ¥ç³»ç»Ÿæ€§èƒ½..."
    local start_time=$(date +%s%N)
    source "$GS_ROOT/gs_env.sh" >/dev/null 2>&1
    local end_time=$(date +%s%N)
    local startup_time=$(( (end_time - start_time) / 1000000 ))
    
    if (( startup_time > 1000 )); then
        echo "   âš ï¸  å¯åŠ¨æ—¶é—´åæ…¢: ${startup_time}ms"
        ((issues++))
    else
        echo "   âœ… å¯åŠ¨æ—¶é—´æ­£å¸¸: ${startup_time}ms"
    fi
    
    # 6. æ’ä»¶æ£€æŸ¥
    echo "6. æ£€æŸ¥æ’ä»¶çŠ¶æ€..."
    local enabled_plugins
    # æ³¨æ„ï¼šgs-pluginså‘½ä»¤å°šæœªå®ç°
    enabled_plugins=$(gs-plugins list --enabled 2>/dev/null | wc -l)
    echo "   âœ… å·²å¯ç”¨æ’ä»¶: $enabled_plugins ä¸ª"
    
    # æ€»ç»“
    echo ""
    echo "ğŸ“Š æ£€æŸ¥ç»“æœï¼š"
    if (( issues == 0 )); then
        echo "   âœ… ç³»ç»Ÿå¥åº·ï¼Œæ— é—®é¢˜å‘ç°"
        return 0
    else
        echo "   âš ï¸  å‘ç° $issues ä¸ªé—®é¢˜éœ€è¦å¤„ç†"
        return $issues
    fi
}

# è‡ªåŠ¨ä¿®å¤åŠŸèƒ½
gs_auto_repair() {
    echo "ğŸ”§ è‡ªåŠ¨ä¿®å¤æ¨¡å¼"
    echo "================"
    
    # ä¿®å¤æƒé™é—®é¢˜
    echo "1. ä¿®å¤æ–‡ä»¶æƒé™..."
    chmod +x "$GS_ROOT/gs_env.sh"
    chmod +x "$GS_ROOT/tools/"*.sh 2>/dev/null || true
    
    # é‡å»ºç¼“å­˜
    echo "2. é‡å»ºç¼“å­˜..."
    rm -rf "$GS_CACHE_DIR"/*
    "$GS_ROOT/tools/gs-cache-build.sh"
    
    # éªŒè¯é…ç½®
    echo "3. éªŒè¯é…ç½®..."
    "$GS_ROOT/tools/gs-config-validate.sh" --auto-fix
    
    echo "âœ… è‡ªåŠ¨ä¿®å¤å®Œæˆ"
}
```

#### æ€§èƒ½ç›‘æ§è„šæœ¬
```bash
#!/bin/bash
# æ€§èƒ½ç›‘æ§è„šæœ¬
# æ–‡ä»¶: tools/gs-performance-monitor.sh

gs_performance_monitor() {
    local duration="${1:-60}"  # ç›‘æ§æŒç»­æ—¶é—´(ç§’)
    local output_file="${2:-$GS_LOG_DIR/performance.log}"
    
    echo "ğŸ“Š å¼€å§‹æ€§èƒ½ç›‘æ§ (æŒç»­${duration}ç§’)..."
    
    local start_time=$(date +%s)
    local end_time=$((start_time + duration))
    
    # åˆ›å»ºæ—¥å¿—æ–‡ä»¶
    {
        echo "# Global Scripts V3 æ€§èƒ½ç›‘æ§æŠ¥å‘Š"
        echo "# å¼€å§‹æ—¶é—´: $(date)"
        echo "# ç›‘æ§æŒç»­æ—¶é—´: ${duration}ç§’"
        echo "# æ ¼å¼: æ—¶é—´æˆ³,CPUä½¿ç”¨ç‡,å†…å­˜ä½¿ç”¨(KB),å¯åŠ¨æ—¶é—´(ms)"
        echo ""
    } > "$output_file"
    
    while (( $(date +%s) < end_time )); do
        # æµ‹é‡å¯åŠ¨æ—¶é—´
        local startup_start=$(date +%s%N)
        source "$GS_ROOT/gs_env.sh" >/dev/null 2>&1
        # æ³¨æ„ï¼šç³»ç»Ÿå‘½ä»¤è¿˜æœªå®ç°
        gs-version >/dev/null 2>&1
        local startup_end=$(date +%s%N)
        local startup_time=$(( (startup_end - startup_start) / 1000000 ))
        
        # è·å–CPUå’Œå†…å­˜ä½¿ç”¨
        local cpu_usage
        local memory_usage
        
        if command -v ps >/dev/null 2>&1; then
            # è·å–å½“å‰è¿›ç¨‹çš„èµ„æºä½¿ç”¨
            local ps_output
            ps_output=$(ps -o %cpu,rss -p $$ | tail -1)
            cpu_usage=$(echo "$ps_output" | awk '{print $1}')
            memory_usage=$(echo "$ps_output" | awk '{print $2}')
        else
            cpu_usage="N/A"
            memory_usage="N/A"
        fi
        
        # è®°å½•æ•°æ®
        echo "$(date +%s),$cpu_usage,$memory_usage,$startup_time" >> "$output_file"
        
        # ç­‰å¾…ä¸€ç§’
        sleep 1
    done
    
    echo "âœ… æ€§èƒ½ç›‘æ§å®Œæˆï¼ŒæŠ¥å‘Šä¿å­˜è‡³: $output_file"
    
    # ç”Ÿæˆç®€è¦ç»Ÿè®¡
    generate_performance_summary "$output_file"
}

generate_performance_summary() {
    local log_file="$1"
    
    echo ""
    echo "ğŸ“ˆ æ€§èƒ½ç»Ÿè®¡æ‘˜è¦ï¼š"
    echo "=================="
    
    # æå–å¯åŠ¨æ—¶é—´æ•°æ®
    local startup_times
    startup_times=$(awk -F',' 'NR>4 {print $4}' "$log_file")
    
    if [[ -n "$startup_times" ]]; then
        local avg_startup
        local max_startup
        local min_startup
        
        avg_startup=$(echo "$startup_times" | awk '{sum+=$1; count++} END {print sum/count}')
        max_startup=$(echo "$startup_times" | sort -n | tail -1)
        min_startup=$(echo "$startup_times" | sort -n | head -1)
        
        printf "å¯åŠ¨æ—¶é—´ - å¹³å‡: %.1fms, æœ€å¤§: %sms, æœ€å°: %sms\n" \
               "$avg_startup" "$max_startup" "$min_startup"
    fi
    
    # å†…å­˜ä½¿ç”¨ç»Ÿè®¡
    local memory_usage
    memory_usage=$(awk -F',' 'NR>4 && $3!="N/A" {print $3}' "$log_file")
    
    if [[ -n "$memory_usage" ]]; then
        local avg_memory
        local max_memory
        
        avg_memory=$(echo "$memory_usage" | awk '{sum+=$1; count++} END {print sum/count}')
        max_memory=$(echo "$memory_usage" | sort -n | tail -1)
        
        printf "å†…å­˜ä½¿ç”¨ - å¹³å‡: %.1fKB (%.1fMB), æœ€å¤§: %sKB (%.1fMB)\n" \
               "$avg_memory" "$(echo "$avg_memory/1024" | bc -l)" \
               "$max_memory" "$(echo "$max_memory/1024" | bc -l)"
    fi
}
```

### 2. æ—¥å¿—ç®¡ç†

#### æ—¥å¿—è½®è½¬é…ç½®
```bash
#!/bin/bash
# æ—¥å¿—è½®è½¬è„šæœ¬
# æ–‡ä»¶: tools/gs-log-rotate.sh

gs_log_rotate() {
    local max_size="${1:-10M}"      # æœ€å¤§æ—¥å¿—æ–‡ä»¶å¤§å°
    local max_files="${2:-5}"        # ä¿ç•™çš„å†å²æ–‡ä»¶æ•°é‡
    
    echo "ğŸ”„ æ‰§è¡Œæ—¥å¿—è½®è½¬..."
    
    for log_file in "$GS_LOG_DIR"/*.log; do
        if [[ ! -f "$log_file" ]]; then
            continue
        fi
        
        local file_size
        file_size=$(stat -f%z "$log_file" 2>/dev/null || stat -c%s "$log_file" 2>/dev/null)
        local max_size_bytes
        max_size_bytes=$(echo "$max_size" | sed 's/M/*1024*1024/;s/K/*1024/;s/G/*1024*1024*1024/' | bc)
        
        if (( file_size > max_size_bytes )); then
            echo "  è½®è½¬æ—¥å¿—æ–‡ä»¶: $(basename "$log_file") (å¤§å°: $(( file_size / 1024 ))KB)"
            
            # è½®è½¬å†å²æ–‡ä»¶
            for ((i=max_files-1; i>=1; i--)); do
                local old_file="${log_file}.$i"
                local new_file="${log_file}.$((i+1))"
                
                if [[ -f "$old_file" ]]; then
                    if (( i == max_files-1 )); then
                        rm -f "$old_file"  # åˆ é™¤æœ€è€çš„æ–‡ä»¶
                    else
                        mv "$old_file" "$new_file"
                    fi
                fi
            done
            
            # è½®è½¬å½“å‰æ–‡ä»¶
            mv "$log_file" "${log_file}.1"
            touch "$log_file"
        fi
    done
    
    echo "âœ… æ—¥å¿—è½®è½¬å®Œæˆ"
}

# è®¾ç½®å®šæ—¶ä»»åŠ¡
setup_log_rotation_cron() {
    local cron_entry="0 0 * * * $GS_ROOT/tools/gs-log-rotate.sh"
    
    # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
    if ! crontab -l 2>/dev/null | grep -q "gs-log-rotate"; then
        # æ·»åŠ åˆ°crontab
        (crontab -l 2>/dev/null; echo "$cron_entry") | crontab -
        echo "âœ… å·²è®¾ç½®æ—¥å¿—è½®è½¬å®šæ—¶ä»»åŠ¡"
    else
        echo "â„¹ï¸  æ—¥å¿—è½®è½¬å®šæ—¶ä»»åŠ¡å·²å­˜åœ¨"
    fi
}
```

### 3. æ›´æ–°ç®¡ç†

#### è‡ªåŠ¨æ›´æ–°ç³»ç»Ÿ
```bash
#!/bin/bash
# è‡ªåŠ¨æ›´æ–°ç³»ç»Ÿ
# æ–‡ä»¶: tools/gs-update.sh

gs_check_updates() {
    echo "ğŸ” æ£€æŸ¥æ›´æ–°..."
    
    local current_version
    # æ³¨æ„ï¼šç³»ç»Ÿå‘½ä»¤è¿˜æœªå®ç°
    current_version=$(gs-version --short)
    
    # è·å–è¿œç¨‹æœ€æ–°ç‰ˆæœ¬
    local latest_version
    latest_version=$(curl -s https://api.github.com/repos/i-rtfsc/global_scripts/releases/latest | \
                    grep '"tag_name":' | sed -E 's/.*"([^"]+)".*/\1/')
    
    if [[ -z "$latest_version" ]]; then
        echo "âŒ æ— æ³•è·å–ç‰ˆæœ¬ä¿¡æ¯"
        return 1
    fi
    
    echo "å½“å‰ç‰ˆæœ¬: $current_version"
    echo "æœ€æ–°ç‰ˆæœ¬: $latest_version"
    
    if [[ "$current_version" != "$latest_version" ]]; then
        echo "ğŸ†• å‘ç°æ–°ç‰ˆæœ¬: $latest_version"
        return 0
    else
        echo "âœ… å·²æ˜¯æœ€æ–°ç‰ˆæœ¬"
        return 1
    fi
}

gs_update() {
    local backup_current="${1:-true}"
    
    echo "â¬†ï¸  å¼€å§‹æ›´æ–°Global Scripts V3..."
    
    # æ£€æŸ¥æ›´æ–°
    if ! gs_check_updates; then
        echo "â„¹ï¸  æ— éœ€æ›´æ–°"
        return 0
    fi
    
    # å¤‡ä»½å½“å‰å®‰è£…
    if [[ "$backup_current" == "true" ]]; then
        local backup_dir="$GS_ROOT.backup.$(date +%Y%m%d_%H%M%S)"
        echo "ğŸ’¾ åˆ›å»ºå¤‡ä»½: $backup_dir"
        cp -r "$GS_ROOT" "$backup_dir"
    fi
    
    # ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
    local temp_dir
    temp_dir=$(mktemp -d)
    cd "$temp_dir"
    
    echo "ğŸ“¥ ä¸‹è½½æœ€æ–°ç‰ˆæœ¬..."
    if ! git clone --depth 1 https://github.com/i-rtfsc/global_scripts.git; then
        echo "âŒ ä¸‹è½½å¤±è´¥"
        return 1
    fi
    
    # å®‰è£…æ›´æ–°
    echo "ğŸ“¦ å®‰è£…æ›´æ–°..."
    cd v3
    
    # ä¿ç•™ç”¨æˆ·é…ç½®
    if [[ -d "$GS_ROOT/config" ]]; then
        cp -r "$GS_ROOT/config" "$temp_dir/user_config_backup"
    fi
    
    # æ›¿æ¢æ–‡ä»¶
    rm -rf "$GS_ROOT"/*
    cp -r ./* "$GS_ROOT/"
    
    # æ¢å¤ç”¨æˆ·é…ç½®
    if [[ -d "$temp_dir/user_config_backup" ]]; then
        cp -r "$temp_dir/user_config_backup"/* "$GS_ROOT/config/"
    fi
    
    # è®¾ç½®æƒé™
    chmod +x "$GS_ROOT/gs_env.sh"
    chmod +x "$GS_ROOT/tools/"*.sh 2>/dev/null || true
    
    # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
    cd /
    rm -rf "$temp_dir"
    
    # é‡å»ºç¼“å­˜
    echo "ğŸ”„ é‡å»ºç¼“å­˜..."
    "$GS_ROOT/tools/gs-cache-build.sh"
    
    echo "âœ… æ›´æ–°å®Œæˆï¼"
    echo "è¯·é‡å¯ç»ˆç«¯æˆ–æ‰§è¡Œ: source ~/.$(basename "$SHELL")rc"
}
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

#### 1. å¯åŠ¨é—®é¢˜
```bash
# é—®é¢˜ï¼šå¯åŠ¨æ—¶é—´è¿‡é•¿
# åŸå› ï¼šç¼“å­˜æŸåæˆ–é…ç½®é”™è¯¯
# è§£å†³æ–¹æ¡ˆï¼š
gs-cache-clear
gs-config-reset
source ~/.globalscripts/gs_env.sh

# é—®é¢˜ï¼šå‘½ä»¤æœªæ‰¾åˆ°
# åŸå› ï¼šç¯å¢ƒå˜é‡æœªæ­£ç¡®è®¾ç½®
# è§£å†³æ–¹æ¡ˆï¼š
echo 'source ~/.globalscripts/gs_env.sh' >> ~/.bashrc
source ~/.bashrc

# é—®é¢˜ï¼šæƒé™é”™è¯¯
# åŸå› ï¼šæ–‡ä»¶æƒé™ä¸æ­£ç¡®
# è§£å†³æ–¹æ¡ˆï¼š
chmod +x ~/.globalscripts/gs_env.sh
chmod -R +x ~/.globalscripts/tools/
```

#### 2. æ€§èƒ½é—®é¢˜
```bash
# é—®é¢˜ï¼šå†…å­˜å ç”¨è¿‡é«˜
# åŸå› ï¼šç¼“å­˜è¿‡å¤§æˆ–å†…å­˜æ³„æ¼
# è§£å†³æ–¹æ¡ˆï¼š
gs-cache-clear
export GS_CACHE_SIZE=500  # å‡å°ç¼“å­˜å¤§å°
gs-performance-monitor 60  # ç›‘æ§æ€§èƒ½

# é—®é¢˜ï¼šå¯åŠ¨æ—¶é—´è¶…è¿‡é¢„æœŸ
# åŸå› ï¼šæ’ä»¶åŠ è½½è¿‡å¤šæˆ–ç³»ç»Ÿèµ„æºä¸è¶³
# è§£å†³æ–¹æ¡ˆï¼š
# æ³¨æ„ï¼šä»¥ä¸‹ç³»ç»Ÿå‘½ä»¤è¿˜æœªå®ç°ï¼Œä»…ä¸ºæ•…éšœæ’é™¤ç¤ºä¾‹
gs-plugins disable --non-essential
export GS_STARTUP_MODE=fast
gs-health-check --auto-repair
```

#### 3. æ’ä»¶é—®é¢˜
```bash
# é—®é¢˜ï¼šæ’ä»¶æ— æ³•åŠ è½½
# åŸå› ï¼šæ’ä»¶æ–‡ä»¶æŸåæˆ–ä¾èµ–ç¼ºå¤±
# è§£å†³æ–¹æ¡ˆï¼š
# æ³¨æ„ï¼šä»¥ä¸‹æ’ä»¶ç®¡ç†å‘½ä»¤è¿˜æœªå®ç°
gs-plugins check android
gs-plugins reinstall android

# é—®é¢˜ï¼šæ’ä»¶å‘½ä»¤ä¸å·¥ä½œ
# åŸå› ï¼šå‘½ä»¤æ³¨å†Œå¤±è´¥
# è§£å†³æ–¹æ¡ˆï¼š
# æ³¨æ„ï¼šæ’ä»¶é‡è½½å‘½ä»¤è¿˜æœªå®ç°
gs-plugins reload android
gs-cache-clear
source ~/.globalscripts/gs_env.sh
```

## ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] **ç³»ç»Ÿå…¼å®¹æ€§**: ç¡®è®¤æ“ä½œç³»ç»Ÿå’ŒShellç‰ˆæœ¬æ”¯æŒ
- [ ] **ç£ç›˜ç©ºé—´**: è‡³å°‘50MBå¯ç”¨ç©ºé—´
- [ ] **ç½‘ç»œè¿æ¥**: å¯ä»¥è®¿é—®GitHubå’Œç›¸å…³èµ„æº
- [ ] **å¿…éœ€å·¥å…·**: gitã€curlã€tarç­‰å·¥å…·å·²å®‰è£…
- [ ] **æƒé™ç¡®è®¤**: ç”¨æˆ·å…·æœ‰å†™å…¥HOMEç›®å½•çš„æƒé™

### éƒ¨ç½²åéªŒè¯
- [ ] **å®‰è£…å®Œæ•´æ€§**: æ‰€æœ‰æ ¸å¿ƒæ–‡ä»¶å­˜åœ¨ä¸”å¯æ‰§è¡Œ
- [ ] **é…ç½®æ­£ç¡®æ€§**: é…ç½®æ–‡ä»¶æ ¼å¼æ­£ç¡®ï¼Œå‚æ•°æœ‰æ•ˆ
- [ ] **åŠŸèƒ½æµ‹è¯•**: æ ¸å¿ƒå‘½ä»¤ï¼ˆgs-helpã€gs-statusã€gs-versionï¼‰å¯ç”¨ï¼ˆå¼€å‘å®Œæˆåï¼‰
- [ ] **æ€§èƒ½éªŒè¯**: å¯åŠ¨æ—¶é—´ç¬¦åˆé¢„æœŸï¼ˆ<100msï¼‰
- [ ] **æ’ä»¶çŠ¶æ€**: é»˜è®¤æ’ä»¶æ­£å¸¸åŠ è½½å’Œå·¥ä½œ
- [ ] **ç¯å¢ƒé›†æˆ**: Shellç¯å¢ƒå˜é‡æ­£ç¡®é…ç½®

### è¿ç»´æ£€æŸ¥
- [ ] **å¥åº·ç›‘æ§**: è®¾ç½®å®šæœŸå¥åº·æ£€æŸ¥
- [ ] **æ—¥å¿—ç®¡ç†**: é…ç½®æ—¥å¿—è½®è½¬å’Œæ¸…ç†
- [ ] **å¤‡ä»½ç­–ç•¥**: å»ºç«‹é…ç½®å’Œæ•°æ®å¤‡ä»½æœºåˆ¶
- [ ] **æ›´æ–°æœºåˆ¶**: é…ç½®è‡ªåŠ¨æ›´æ–°æ£€æŸ¥
- [ ] **ç›‘æ§æŠ¥è­¦**: è®¾ç½®æ€§èƒ½å’Œé”™è¯¯æŠ¥è­¦
- [ ] **æ–‡æ¡£å®Œå–„**: è¿ç»´æ–‡æ¡£å’Œæ•…éšœæ’é™¤æŒ‡å—

è¿™ä¸ªéƒ¨ç½²æŒ‡å—ç¡®ä¿äº†Global Scripts V3åœ¨å„ç§ç¯å¢ƒä¸‹çš„ç¨³å®šéƒ¨ç½²å’Œè¿è¡Œï¼Œæä¾›äº†å®Œæ•´çš„è¿ç»´ç®¡ç†æ–¹æ¡ˆã€‚