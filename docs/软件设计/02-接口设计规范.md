# Global Scripts V3 æ¥å£è®¾è®¡è§„èŒƒ

## ğŸ“‹ æ¥å£è®¾è®¡æ¦‚è¿°

### 1.1 è®¾è®¡åŸåˆ™
- **ä¸€è‡´æ€§**: æ‰€æœ‰å‘½ä»¤éµå¾ªç»Ÿä¸€çš„å‘½åå’Œå‚æ•°çº¦å®š
- **å¯å‘ç°æ€§**: é€šè¿‡å¸®åŠ©ç³»ç»Ÿå’Œè¡¥å…¨åŠŸèƒ½æ˜“äºå‘ç°å’Œå­¦ä¹ 
- **å‘åå…¼å®¹**: åœ¨ç‰ˆæœ¬å‡çº§æ—¶ä¿æŒæ¥å£ç¨³å®šæ€§
- **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒæ–‡æœ¬ã€JSONç­‰å¤šç§è¾“å‡ºæ ¼å¼
- **é”™è¯¯å‹å¥½**: æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯å’Œæ¢å¤å»ºè®®

### 1.2 å‘½åè§„èŒƒ
```bash
# å‘½ä»¤å‘½åæ¨¡å¼
gs-<category>-<action>[-<target>]

# ç¤ºä¾‹
gs-help                        # ç³»ç»Ÿçº§å‘½ä»¤
gs-config-get                  # é…ç½®ç®¡ç†å‘½ä»¤
gs-plugins-list                # æ’ä»¶ç®¡ç†å‘½ä»¤
gs-android-device-list         # æ’ä»¶åŠŸèƒ½å‘½ä»¤
```

### 1.3 é€šç”¨å‚æ•°
```bash
# æ‰€æœ‰å‘½ä»¤éƒ½æ”¯æŒçš„é€šç”¨å‚æ•°
-h, --help                     # æ˜¾ç¤ºå‘½ä»¤å¸®åŠ©
-v, --verbose                  # è¯¦ç»†è¾“å‡ºæ¨¡å¼
-q, --quiet                    # é™é»˜æ¨¡å¼
--json                         # JSONæ ¼å¼è¾“å‡º
--format <format>              # æŒ‡å®šè¾“å‡ºæ ¼å¼ (text|json|table)
--config <file>                # æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„
--no-color                     # ç¦ç”¨å½©è‰²è¾“å‡º
--debug                        # è°ƒè¯•æ¨¡å¼
```

## ğŸ†˜ å¸®åŠ©ç³»ç»Ÿæ¥å£ (Help System)

### 2.1 gs-help - ä¸»å¸®åŠ©å‘½ä»¤

#### æ¥å£å®šä¹‰
```bash
gs-help [command|category] [options]
```

#### å‚æ•°è¯´æ˜
```bash
å‚æ•°:
  command                      # å…·ä½“å‘½ä»¤åç§° (å¦‚: config-get)
  category                     # å‘½ä»¤åˆ†ç±» (å¦‚: config, plugins, android)

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ç³»ç»Ÿçš„å¸®åŠ©
  -s, --search <keyword>       # æœç´¢åŒ…å«å…³é”®è¯çš„å‘½ä»¤
  -l, --list                   # åˆ—å‡ºæ‰€æœ‰å¯ç”¨å‘½ä»¤
  -c, --categories             # æ˜¾ç¤ºå‘½ä»¤åˆ†ç±»
  --examples                   # æ˜¾ç¤ºä½¿ç”¨ç¤ºä¾‹
  --format <format>            # è¾“å‡ºæ ¼å¼: text|json
```

#### ä½¿ç”¨ç¤ºä¾‹
```bash
# æ˜¾ç¤ºæ€»ä½“å¸®åŠ©
gs-help

# æ˜¾ç¤ºé…ç½®ç›¸å…³å‘½ä»¤å¸®åŠ©
gs-help config

# æ˜¾ç¤ºç‰¹å®šå‘½ä»¤è¯¦ç»†å¸®åŠ©
gs-help gs-android-device-list

# æœç´¢ç›¸å…³å‘½ä»¤
gs-help --search "device"

# åˆ—å‡ºæ‰€æœ‰å‘½ä»¤
gs-help --list

# æ˜¾ç¤ºåˆ†ç±»ä¿¡æ¯
gs-help --categories

# JSONæ ¼å¼è¾“å‡º
gs-help --format json
```

#### è¾“å‡ºæ ¼å¼

**æ–‡æœ¬æ ¼å¼ç¤ºä¾‹:**
```
Global Scripts V3 - ç°ä»£åŒ–Shellå¼€å‘å·¥å…·æ¡†æ¶

ç”¨æ³•: gs-<command> [options] [arguments]

æ ¸å¿ƒå‘½ä»¤:
  help                æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  version             æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯  
  status              æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€

é…ç½®ç®¡ç† (config):
  config-get          è·å–é…ç½®å€¼
  config-set          è®¾ç½®é…ç½®å€¼
  config-list         åˆ—å‡ºæ‰€æœ‰é…ç½®
  config-validate     éªŒè¯é…ç½®æ–‡ä»¶

æ’ä»¶ç®¡ç† (plugins):
  plugins-list        åˆ—å‡ºæ’ä»¶
  plugins-enable      å¯ç”¨æ’ä»¶
  plugins-disable     ç¦ç”¨æ’ä»¶

Androidå·¥å…· (android):
  android-device-list åˆ—å‡ºAndroidè®¾å¤‡
  android-adb-shell   è¿æ¥ADB Shell

ä½¿ç”¨ 'gs-help <command>' æŸ¥çœ‹å…·ä½“å‘½ä»¤çš„è¯¦ç»†å¸®åŠ©
ä½¿ç”¨ 'gs-help <category>' æŸ¥çœ‹åˆ†ç±»å‘½ä»¤å¸®åŠ©
```

**JSONæ ¼å¼ç¤ºä¾‹:**
```json
{
  "version": "3.0.0",
  "categories": {
    "core": {
      "description": "æ ¸å¿ƒç³»ç»Ÿå‘½ä»¤",
      "commands": [
        {
          "name": "help",
          "description": "æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯",
          "usage": "gs-help [command|category] [options]"
        },
        {
          "name": "version", 
          "description": "æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯",
          "usage": "gs-version [--json] [--detailed]"
        }
      ]
    },
    "config": {
      "description": "é…ç½®ç®¡ç†å‘½ä»¤",
      "commands": [
        {
          "name": "config-get",
          "description": "è·å–é…ç½®å€¼",
          "usage": "gs-config-get <key> [default]"
        }
      ]
    }
  }
}
```

### 2.2 å‘½ä»¤å†…ç½®å¸®åŠ©

#### æ¥å£çº¦å®š
```bash
# æ¯ä¸ªå‘½ä»¤éƒ½å¿…é¡»æ”¯æŒå¸®åŠ©å‚æ•°
gs-<command> --help
gs-<command> -h
```

#### å¸®åŠ©ä¿¡æ¯æ ‡å‡†æ ¼å¼
```bash
help_template() {
    cat << EOF
åç§°:
    $command_name - $command_description

ç”¨æ³•:
    $command_usage

æè¿°:
    $command_detailed_description

é€‰é¡¹:
$command_options

ç¤ºä¾‹:
$command_examples

ç›¸å…³å‘½ä»¤:
    $related_commands

æ›´å¤šä¿¡æ¯:
    ä½¿ç”¨ 'gs-help $command_name' è·å–è¯¦ç»†å¸®åŠ©
EOF
}

# ç¤ºä¾‹: gs-android-device-list --help
cat << 'EOF'
åç§°:
    gs-android-device-list - åˆ—å‡ºè¿æ¥çš„Androidè®¾å¤‡

ç”¨æ³•:
    gs-android-device-list [options]

æè¿°:
    æ˜¾ç¤ºå½“å‰è¿æ¥åˆ°è®¡ç®—æœºçš„æ‰€æœ‰Androidè®¾å¤‡ä¿¡æ¯,åŒ…æ‹¬è®¾å¤‡IDã€
    çŠ¶æ€ã€å‹å·ç­‰è¯¦ç»†ä¿¡æ¯ã€‚

é€‰é¡¹:
    -h, --help              æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯
    --json                  ä»¥JSONæ ¼å¼è¾“å‡º
    --format <format>       è¾“å‡ºæ ¼å¼: table|json|simple
    --detailed              æ˜¾ç¤ºè¯¦ç»†è®¾å¤‡ä¿¡æ¯
    --online-only           ä»…æ˜¾ç¤ºåœ¨çº¿è®¾å¤‡

ç¤ºä¾‹:
    gs-android-device-list
        # ä»¥è¡¨æ ¼æ ¼å¼æ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡

    gs-android-device-list --json
        # ä»¥JSONæ ¼å¼è¾“å‡ºè®¾å¤‡ä¿¡æ¯

    gs-android-device-list --online-only --detailed
        # æ˜¾ç¤ºåœ¨çº¿è®¾å¤‡çš„è¯¦ç»†ä¿¡æ¯

ç›¸å…³å‘½ä»¤:
    gs-android-device-info     è·å–å•ä¸ªè®¾å¤‡è¯¦ç»†ä¿¡æ¯
    gs-android-adb-shell       è¿æ¥è®¾å¤‡ADB Shell
    gs-help android           æŸ¥çœ‹Androidå·¥å…·å¸®åŠ©

æ›´å¤šä¿¡æ¯:
    ä½¿ç”¨ 'gs-help gs-android-device-list' è·å–è¯¦ç»†å¸®åŠ©
EOF
```

## ğŸ“Š ç‰ˆæœ¬ä¿¡æ¯æ¥å£ (Version Information)

### 3.1 gs-version - ç‰ˆæœ¬ä¿¡æ¯å‘½ä»¤

#### æ¥å£å®šä¹‰
```bash
gs-version [options]
```

#### å‚æ•°è¯´æ˜
```bash
é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --json                       # JSONæ ¼å¼è¾“å‡º
  --detailed                   # æ˜¾ç¤ºè¯¦ç»†ç‰ˆæœ¬ä¿¡æ¯
  --dependencies               # æ˜¾ç¤ºä¾èµ–ç‰ˆæœ¬ä¿¡æ¯
  --build-info                 # æ˜¾ç¤ºæ„å»ºä¿¡æ¯
```

#### ä½¿ç”¨ç¤ºä¾‹
```bash
# æ˜¾ç¤ºåŸºæœ¬ç‰ˆæœ¬ä¿¡æ¯
gs-version

# JSONæ ¼å¼è¾“å‡º
gs-version --json

# æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
gs-version --detailed

# æ˜¾ç¤ºä¾èµ–ä¿¡æ¯
gs-version --dependencies

# æ˜¾ç¤ºæ„å»ºä¿¡æ¯
gs-version --build-info
```

#### è¾“å‡ºæ ¼å¼

**æ–‡æœ¬æ ¼å¼ (åŸºæœ¬):**
```
Global Scripts v3.0.0
Build: 2025-05-01
Platform: Darwin arm64
Shell: zsh 5.8
```

**æ–‡æœ¬æ ¼å¼ (è¯¦ç»†):**
```
Global Scripts v3.0.0
===================

åŸºæœ¬ä¿¡æ¯:
  ç‰ˆæœ¬: 3.0.0
  æ„å»ºæ—¥æœŸ: 2025-05-01 14:30:25
  æäº¤å“ˆå¸Œ: a1b2c3d4
  æ„å»ºç±»å‹: release

è¿è¡Œç¯å¢ƒ:
  å¹³å°: Darwin arm64
  Shell: zsh 5.8 (/bin/zsh)
  Python: 3.9.7 (/usr/bin/python3)
  
ä¾èµ–ç‰ˆæœ¬:
  jq: 1.6
  git: 2.34.1
  curl: 7.84.0

å®‰è£…ä¿¡æ¯:
  å®‰è£…è·¯å¾„: /Users/user/.gs
  é…ç½®æ–‡ä»¶: /Users/user/.gs/config.json
  æ’ä»¶ç›®å½•: /Users/user/.gs/plugins

å¯ç”¨æ’ä»¶:
  android v3.0.0
  git v3.0.0
  system v3.0.0
```

**JSONæ ¼å¼:**
```json
{
  "version": "3.0.0",
  "build": {
    "date": "2025-05-01T14:30:25Z",
    "hash": "a1b2c3d4",
    "type": "release"
  },
  "environment": {
    "platform": "Darwin",
    "architecture": "arm64", 
    "shell": {
      "name": "zsh",
      "version": "5.8",
      "path": "/bin/zsh"
    },
    "python": {
      "version": "3.9.7",
      "path": "/usr/bin/python3"
    }
  },
  "dependencies": {
    "jq": "1.6",
    "git": "2.34.1",
    "curl": "7.84.0"
  },
  "installation": {
    "root_path": "/Users/user/.gs",
    "config_file": "/Users/user/.gs/config.json",
    "plugins_dir": "/Users/user/.gs/plugins"
  },
  "plugins": {
    "android": "3.0.0",
    "git": "3.0.0", 
    "system": "3.0.0"
  }
}
```

## ğŸ” ç³»ç»ŸçŠ¶æ€æ¥å£ (System Status)

### 4.1 gs-status - ç³»ç»ŸçŠ¶æ€å‘½ä»¤

#### æ¥å£å®šä¹‰
```bash
gs-status [options]
```

#### å‚æ•°è¯´æ˜
```bash
é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --summary                    # ç®€è¦æ¦‚è§ˆ
  --detailed                   # è¯¦ç»†çŠ¶æ€ä¿¡æ¯
  --json                       # JSONæ ¼å¼è¾“å‡º
  --plugins                    # ä»…æ˜¾ç¤ºæ’ä»¶çŠ¶æ€
  --performance                # æ˜¾ç¤ºæ€§èƒ½ç»Ÿè®¡
  --health                     # å¥åº·æ£€æŸ¥æ¨¡å¼
```

#### ä½¿ç”¨ç¤ºä¾‹
```bash
# æ˜¾ç¤ºå®Œæ•´ç³»ç»ŸçŠ¶æ€
gs-status

# ç®€è¦æ¦‚è§ˆ
gs-status --summary

# è¯¦ç»†çŠ¶æ€ä¿¡æ¯
gs-status --detailed

# JSONæ ¼å¼è¾“å‡º
gs-status --json

# ä»…æ˜¾ç¤ºæ’ä»¶çŠ¶æ€
gs-status --plugins

# æ€§èƒ½ç»Ÿè®¡
gs-status --performance

# å¥åº·æ£€æŸ¥
gs-status --health
```

#### è¾“å‡ºæ ¼å¼

**æ–‡æœ¬æ ¼å¼ (å®Œæ•´):**
```
Global Scripts v3.0.0 ç³»ç»ŸçŠ¶æ€
==============================

ç³»ç»Ÿä¿¡æ¯:
  ç‰ˆæœ¬: 3.0.0
  è¿è¡Œæ—¶é—´: 2å°æ—¶15åˆ†é’Ÿ
  è¿›ç¨‹ID: 12345
  å†…å­˜ä½¿ç”¨: 25.6MB
  å¯åŠ¨æ—¶é—´: 245ms

é…ç½®çŠ¶æ€:
  é…ç½®æ–‡ä»¶: âœ“ å­˜åœ¨ä¸”æœ‰æ•ˆ
  SchemaéªŒè¯: âœ“ é€šè¿‡
  ä¸Šæ¬¡ä¿®æ”¹: 2025-05-01 10:30:25

æ’ä»¶çŠ¶æ€:
  android      âœ“ å·²åŠ è½½    v3.0.0
  git          âœ“ å·²åŠ è½½    v3.0.0  
  system       âœ“ å·²åŠ è½½    v3.0.0
  docker       â—‹ å·²ç¦ç”¨    v3.0.0

ç¼“å­˜çŠ¶æ€:
  L1å†…å­˜ç¼“å­˜: 156/1000 æ¡ç›® (15.6%)
  L2ç£ç›˜ç¼“å­˜: 42 æ–‡ä»¶ (2.3MB)
  ç¼“å­˜å‘½ä¸­ç‡: 87.3%

æ€§èƒ½ç»Ÿè®¡:
  å‘½ä»¤æ‰§è¡Œæ¬¡æ•°: 1,247
  å¹³å‡å“åº”æ—¶é—´: 23ms
  é”™è¯¯ç‡: 0.2%

ä¾èµ–æ£€æŸ¥:
  bash/zsh    âœ“ å¯ç”¨
  python3     âœ“ å¯ç”¨ (3.9.7)
  jq          âœ“ å¯ç”¨ (1.6)
  git         âœ“ å¯ç”¨ (2.34.1)
  
çŠ¶æ€: âœ“ ç³»ç»Ÿè¿è¡Œæ­£å¸¸
```

**JSONæ ¼å¼:**
```json
{
  "version": "3.0.0",
  "system": {
    "uptime": 8100,
    "pid": 12345,
    "memory_usage": 26843545,
    "startup_time": 245
  },
  "config": {
    "file_exists": true,
    "valid": true,
    "last_modified": "2025-05-01T10:30:25Z",
    "schema_valid": true
  },
  "plugins": {
    "android": {
      "status": "loaded",
      "version": "3.0.0"
    },
    "git": {
      "status": "loaded", 
      "version": "3.0.0"
    },
    "system": {
      "status": "loaded",
      "version": "3.0.0"
    },
    "docker": {
      "status": "disabled",
      "version": "3.0.0"
    }
  },
  "cache": {
    "l1": {
      "current": 156,
      "max": 1000,
      "usage_percent": 15.6
    },
    "l2": {
      "files": 42,
      "size_bytes": 2411724
    },
    "hit_rate": 87.3
  },
  "performance": {
    "commands_executed": 1247,
    "average_response_time": 23,
    "error_rate": 0.2
  },
  "dependencies": {
    "bash": {"available": true, "version": "5.1.8"},
    "python3": {"available": true, "version": "3.9.7"},
    "jq": {"available": true, "version": "1.6"},
    "git": {"available": true, "version": "2.34.1"}
  },
  "overall_status": "healthy"
}
```

## âš™ï¸ é…ç½®ç®¡ç†æ¥å£ (Configuration API)

### 5.1 åŸºç¡€é…ç½®æ“ä½œ

#### gs-config-get - è·å–é…ç½®å€¼
```bash
# æ¥å£å®šä¹‰
gs-config-get [key] [default] [options]

# å‚æ•°è¯´æ˜
å‚æ•°:
  key                          # é…ç½®é”®ï¼Œæ”¯æŒç‚¹åˆ†å±‚æ¬¡ (å¦‚: plugins.android.timeout)
  default                      # é»˜è®¤å€¼ (å½“é…ç½®ä¸å­˜åœ¨æ—¶è¿”å›)

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --json                       # JSONæ ¼å¼è¾“å‡º
  --type <type>                # æŒ‡å®šæœŸæœ›çš„æ•°æ®ç±»å‹ (string|number|boolean|array|object)
  --config <file>              # æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„

# ä½¿ç”¨ç¤ºä¾‹
gs-config-get                           # è·å–å…¨éƒ¨é…ç½®
gs-config-get system                    # è·å–systemæ®µé…ç½®
gs-config-get system.log_level          # è·å–ç‰¹å®šé…ç½®å€¼
gs-config-get plugins.android.timeout 30 # è·å–é…ç½®ï¼Œä¸å­˜åœ¨æ—¶è¿”å›30
gs-config-get --json system             # JSONæ ¼å¼è¾“å‡ºsystemæ®µ
```

#### gs-config-set - è®¾ç½®é…ç½®å€¼
```bash
# æ¥å£å®šä¹‰
gs-config-set <key> <value> [options]

# å‚æ•°è¯´æ˜
å‚æ•°:
  key                          # é…ç½®é”®
  value                        # é…ç½®å€¼

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --type <type>                # å¼ºåˆ¶æŒ‡å®šå€¼ç±»å‹
  --validate                   # è®¾ç½®å‰éªŒè¯å€¼
  --backup                     # è®¾ç½®å‰è‡ªåŠ¨å¤‡ä»½
  --config <file>              # æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„

# ä½¿ç”¨ç¤ºä¾‹
gs-config-set system.log_level DEBUG
gs-config-set plugins.enabled '["android","git","system"]' --type array
gs-config-set performance.cache_enabled true --type boolean --validate
gs-config-set --backup system.timeout 60
```

### 5.2 é«˜çº§é…ç½®æ“ä½œ

#### gs-config-list - åˆ—å‡ºé…ç½®é¡¹
```bash
# æ¥å£å®šä¹‰
gs-config-list [pattern] [options]

# å‚æ•°è¯´æ˜
å‚æ•°:
  pattern                      # é…ç½®é”®åŒ¹é…æ¨¡å¼ (æ”¯æŒé€šé…ç¬¦)

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --json                       # JSONæ ¼å¼è¾“å‡º
  --keys-only                  # ä»…æ˜¾ç¤ºé”®å
  --values-only                # ä»…æ˜¾ç¤ºå€¼
  --type <type>                # æŒ‰ç±»å‹è¿‡æ»¤
  --source                     # æ˜¾ç¤ºé…ç½®æ¥æº

# ä½¿ç”¨ç¤ºä¾‹
gs-config-list                           # åˆ—å‡ºæ‰€æœ‰é…ç½®
gs-config-list "plugins.*"               # åˆ—å‡ºæ’ä»¶ç›¸å…³é…ç½®
gs-config-list --keys-only               # ä»…æ˜¾ç¤ºé…ç½®é”®
gs-config-list --type boolean            # ä»…æ˜¾ç¤ºå¸ƒå°”ç±»å‹é…ç½®
gs-config-list --source system          # æ˜¾ç¤ºé…ç½®æ¥æº
```

#### gs-config-validate - éªŒè¯é…ç½®
```bash
# æ¥å£å®šä¹‰
gs-config-validate [file] [options]

# å‚æ•°è¯´æ˜
å‚æ•°:
  file                         # é…ç½®æ–‡ä»¶è·¯å¾„ (é»˜è®¤: ~/.gs/config.json)

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --schema <file>              # æŒ‡å®šSchemaæ–‡ä»¶
  --fix                        # è‡ªåŠ¨ä¿®å¤ç®€å•é”™è¯¯
  --report                     # ç”Ÿæˆè¯¦ç»†éªŒè¯æŠ¥å‘Š

# ä½¿ç”¨ç¤ºä¾‹
gs-config-validate                       # éªŒè¯é»˜è®¤é…ç½®æ–‡ä»¶
gs-config-validate /path/to/config.json  # éªŒè¯æŒ‡å®šæ–‡ä»¶
gs-config-validate --fix                 # éªŒè¯å¹¶è‡ªåŠ¨ä¿®å¤
gs-config-validate --report              # ç”ŸæˆéªŒè¯æŠ¥å‘Š
```

#### gs-config-backup/restore - å¤‡ä»½æ¢å¤
```bash
# å¤‡ä»½é…ç½®
gs-config-backup [file] [options]
é€‰é¡¹:
  --auto                       # è‡ªåŠ¨ç”Ÿæˆå¤‡ä»½æ–‡ä»¶å
  --compress                   # å‹ç¼©å¤‡ä»½æ–‡ä»¶

# æ¢å¤é…ç½®  
gs-config-restore <backup_file> [options]
é€‰é¡¹:
  --validate                   # æ¢å¤å‰éªŒè¯å¤‡ä»½æ–‡ä»¶
  --merge                      # åˆå¹¶è€Œéè¦†ç›–

# ä½¿ç”¨ç¤ºä¾‹
gs-config-backup                         # å¤‡ä»½åˆ°é»˜è®¤ä½ç½®
gs-config-backup --auto                  # è‡ªåŠ¨å‘½åå¤‡ä»½æ–‡ä»¶
gs-config-restore ~/.gs/backup/config.json.bak
gs-config-restore --merge backup.json   # åˆå¹¶é…ç½®
```

### 5.3 Schemaæ“ä½œ

#### gs-config-schema - Schemaç®¡ç†
```bash
# æ¥å£å®šä¹‰
gs-config-schema [operation] [options]

# æ“ä½œç±»å‹
operations:
  show                         # æ˜¾ç¤ºSchemaå®šä¹‰
  validate <file>              # éªŒè¯æ–‡ä»¶ç¬¦åˆSchema
  generate                     # ç”ŸæˆSchemaæ¨¡æ¿
  update                       # æ›´æ–°Schemaå®šä¹‰

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --format <format>            # è¾“å‡ºæ ¼å¼ (json|yaml|text)
  --section <section>          # ç‰¹å®šSchemaæ®µ

# ä½¿ç”¨ç¤ºä¾‹
gs-config-schema show                    # æ˜¾ç¤ºå®Œæ•´Schema
gs-config-schema show --section plugins # æ˜¾ç¤ºæ’ä»¶Schema
gs-config-schema validate config.json   # éªŒè¯é…ç½®æ–‡ä»¶
gs-config-schema generate               # ç”ŸæˆSchemaæ¨¡æ¿
```

## ğŸ”Œ æ’ä»¶ç®¡ç†æ¥å£ (Plugin API)

### 6.1 æ’ä»¶å‘ç°å’Œä¿¡æ¯

#### gs-plugins-list - åˆ—å‡ºæ’ä»¶
```bash
# æ¥å£å®šä¹‰
gs-plugins-list [options]

# é€‰é¡¹è¯´æ˜
é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --enabled                    # ä»…æ˜¾ç¤ºå·²å¯ç”¨æ’ä»¶
  --disabled                   # ä»…æ˜¾ç¤ºå·²ç¦ç”¨æ’ä»¶
  --available                  # æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨æ’ä»¶
  --format <format>            # è¾“å‡ºæ ¼å¼ (table|json|simple|detailed)
  --category <category>        # æŒ‰åˆ†ç±»è¿‡æ»¤
  --search <keyword>           # æœç´¢æ’ä»¶

# ä½¿ç”¨ç¤ºä¾‹
gs-plugins-list                          # æ˜¾ç¤ºæ‰€æœ‰æ’ä»¶
gs-plugins-list --enabled                # ä»…æ˜¾ç¤ºå·²å¯ç”¨æ’ä»¶
gs-plugins-list --format json            # JSONæ ¼å¼è¾“å‡º
gs-plugins-list --category android       # æ˜¾ç¤ºAndroidç›¸å…³æ’ä»¶
gs-plugins-list --search "device"        # æœç´¢åŒ…å«deviceçš„æ’ä»¶
```

#### gs-plugins-info - æ’ä»¶è¯¦ç»†ä¿¡æ¯
```bash
# æ¥å£å®šä¹‰
gs-plugins-info <plugin> [options]

# å‚æ•°è¯´æ˜
å‚æ•°:
  plugin                       # æ’ä»¶åç§°

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --json                       # JSONæ ¼å¼è¾“å‡º
  --manifest                   # æ˜¾ç¤ºåŸå§‹manifest
  --commands                   # ä»…æ˜¾ç¤ºæä¾›çš„å‘½ä»¤
  --dependencies               # æ˜¾ç¤ºä¾èµ–å…³ç³»
  --config                     # æ˜¾ç¤ºé…ç½®é€‰é¡¹

# ä½¿ç”¨ç¤ºä¾‹
gs-plugins-info android                  # æ˜¾ç¤ºAndroidæ’ä»¶ä¿¡æ¯
gs-plugins-info android --json           # JSONæ ¼å¼è¾“å‡º
gs-plugins-info android --commands       # æ˜¾ç¤ºæ’ä»¶æä¾›çš„å‘½ä»¤
gs-plugins-info android --dependencies   # æ˜¾ç¤ºä¾èµ–å…³ç³»
```

### 6.2 æ’ä»¶ç®¡ç†æ“ä½œ

#### gs-plugins-enable/disable - å¯ç”¨/ç¦ç”¨æ’ä»¶
```bash
# å¯ç”¨æ’ä»¶
gs-plugins-enable <plugin> [...] [options]

# ç¦ç”¨æ’ä»¶
gs-plugins-disable <plugin> [...] [options]

# å‚æ•°è¯´æ˜
å‚æ•°:
  plugin                       # æ’ä»¶åç§° (æ”¯æŒå¤šä¸ª)

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --force                      # å¼ºåˆ¶æ“ä½œ (å¿½ç•¥ä¾èµ–æ£€æŸ¥)
  --dry-run                    # é¢„æ¼”æ¨¡å¼ (ä¸å®é™…æ‰§è¡Œ)
  --recursive                  # é€’å½’å¤„ç†ä¾èµ–

# ä½¿ç”¨ç¤ºä¾‹
gs-plugins-enable android git            # å¯ç”¨å¤šä¸ªæ’ä»¶
gs-plugins-disable docker --force        # å¼ºåˆ¶ç¦ç”¨æ’ä»¶
gs-plugins-enable android --dry-run      # é¢„æ¼”å¯ç”¨æ“ä½œ
gs-plugins-disable system --recursive    # é€’å½’ç¦ç”¨ä¾èµ–
```

#### gs-plugins-reload - é‡æ–°åŠ è½½æ’ä»¶
```bash
# æ¥å£å®šä¹‰
gs-plugins-reload <plugin|--all> [options]

# å‚æ•°è¯´æ˜
å‚æ•°:
  plugin                       # æ’ä»¶åç§°
  --all                        # é‡æ–°åŠ è½½æ‰€æœ‰æ’ä»¶

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --force                      # å¼ºåˆ¶é‡æ–°åŠ è½½
  --clear-cache                # æ¸…é™¤æ’ä»¶ç¼“å­˜

# ä½¿ç”¨ç¤ºä¾‹
gs-plugins-reload android                # é‡æ–°åŠ è½½Androidæ’ä»¶
gs-plugins-reload --all                  # é‡æ–°åŠ è½½æ‰€æœ‰æ’ä»¶
gs-plugins-reload android --clear-cache  # æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°åŠ è½½
```

### 6.3 æ’ä»¶å¼€å‘å·¥å…·

#### gs-plugins-create - åˆ›å»ºæ’ä»¶æ¨¡æ¿
```bash
# æ¥å£å®šä¹‰
gs-plugins-create <name> [options]

# å‚æ•°è¯´æ˜
å‚æ•°:
  name                         # æ’ä»¶åç§°

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --template <template>        # ä½¿ç”¨æŒ‡å®šæ¨¡æ¿ (basic|advanced|system)
  --category <category>        # æ’ä»¶åˆ†ç±»
  --author <author>            # ä½œè€…ä¿¡æ¯
  --description <description>  # æ’ä»¶æè¿°
  --path <path>                # åˆ›å»ºè·¯å¾„

# ä½¿ç”¨ç¤ºä¾‹
gs-plugins-create my-plugin                    # åˆ›å»ºåŸºç¡€æ’ä»¶
gs-plugins-create my-tool --template advanced  # ä½¿ç”¨é«˜çº§æ¨¡æ¿
gs-plugins-create company-tools --category system --author "Company Dev"
```

#### gs-plugins-validate - éªŒè¯æ’ä»¶
```bash
# æ¥å£å®šä¹‰
gs-plugins-validate <plugin> [options]

# å‚æ•°è¯´æ˜
å‚æ•°:
  plugin                       # æ’ä»¶åç§°æˆ–è·¯å¾„

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --strict                     # ä¸¥æ ¼éªŒè¯æ¨¡å¼
  --fix                        # è‡ªåŠ¨ä¿®å¤ç®€å•é—®é¢˜
  --report                     # ç”ŸæˆéªŒè¯æŠ¥å‘Š

# ä½¿ç”¨ç¤ºä¾‹
gs-plugins-validate android                 # éªŒè¯Androidæ’ä»¶
gs-plugins-validate /path/to/plugin --strict # ä¸¥æ ¼éªŒè¯å¤–éƒ¨æ’ä»¶
gs-plugins-validate my-plugin --fix         # éªŒè¯å¹¶ä¿®å¤é—®é¢˜
```

## ğŸ› ï¸ å·¥å…·æ¥å£ (Tools API)

### 7.1 å¥åº·æ£€æŸ¥å·¥å…·

#### gs-tools-health - ç³»ç»Ÿå¥åº·æ£€æŸ¥
```bash
# æ¥å£å®šä¹‰
gs-tools-health [scope] [options]

# èŒƒå›´è¯´æ˜
scope:
  quick                        # å¿«é€Ÿæ£€æŸ¥ (é»˜è®¤)
  full                         # å…¨é¢æ£€æŸ¥
  plugins                      # ä»…æ£€æŸ¥æ’ä»¶
  dependencies                 # ä»…æ£€æŸ¥ä¾èµ–
  config                       # ä»…æ£€æŸ¥é…ç½®

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --json                       # JSONæ ¼å¼è¾“å‡º
  --fix                        # è‡ªåŠ¨ä¿®å¤å‘ç°çš„é—®é¢˜
  --report <file>              # ç”Ÿæˆæ£€æŸ¥æŠ¥å‘Š

# ä½¿ç”¨ç¤ºä¾‹
gs-tools-health                          # å¿«é€Ÿå¥åº·æ£€æŸ¥
gs-tools-health full                     # å…¨é¢å¥åº·æ£€æŸ¥
gs-tools-health --json                   # JSONæ ¼å¼è¾“å‡º
gs-tools-health full --fix               # æ£€æŸ¥å¹¶è‡ªåŠ¨ä¿®å¤é—®é¢˜  
gs-tools-health --report health.txt      # ç”ŸæˆæŠ¥å‘Šæ–‡ä»¶
```

#### gs-tools-doctor - è¯Šæ–­å·¥å…· (health fullçš„åˆ«å)
```bash
# æ¥å£å®šä¹‰
gs-tools-doctor [options]

# è¿™æ˜¯ gs-tools-health full çš„åˆ«åï¼Œæ”¯æŒç›¸åŒçš„é€‰é¡¹
```

### 7.2 æ€§èƒ½åˆ†æå·¥å…·

#### gs-tools-performance - æ€§èƒ½åˆ†æ
```bash
# æ¥å£å®šä¹‰
gs-tools-performance [operation] [options]

# æ“ä½œç±»å‹
operations:
  overview                     # æ€§èƒ½æ¦‚è§ˆ (é»˜è®¤)
  benchmark                    # è¿è¡ŒåŸºå‡†æµ‹è¯•
  profile                      # æ€§èƒ½åˆ†æ
  report                       # ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
  optimize                     # åº”ç”¨æ€§èƒ½ä¼˜åŒ–

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --json                       # JSONæ ¼å¼è¾“å‡º
  --duration <seconds>         # åˆ†ææŒç»­æ—¶é—´
  --output <file>              # è¾“å‡ºæ–‡ä»¶

# ä½¿ç”¨ç¤ºä¾‹
gs-tools-performance                     # æ˜¾ç¤ºæ€§èƒ½æ¦‚è§ˆ
gs-tools-performance benchmark           # è¿è¡ŒåŸºå‡†æµ‹è¯•
gs-tools-performance profile --duration 30 # 30ç§’æ€§èƒ½åˆ†æ
gs-tools-performance report --output perf.json # ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
gs-tools-performance optimize            # åº”ç”¨ä¼˜åŒ–å»ºè®®
```

### 7.3 ç¼“å­˜ç®¡ç†å·¥å…·

#### gs-tools-cache - ç¼“å­˜ç®¡ç†
```bash
# æ¥å£å®šä¹‰
gs-tools-cache <operation> [options]

# æ“ä½œç±»å‹
operations:
  status                       # æ˜¾ç¤ºç¼“å­˜çŠ¶æ€
  clean                        # æ¸…ç†è¿‡æœŸç¼“å­˜
  clear                        # æ¸…ç©ºæ‰€æœ‰ç¼“å­˜
  rebuild                      # é‡å»ºç¼“å­˜ç´¢å¼•
  optimize                     # ä¼˜åŒ–ç¼“å­˜ç»“æ„
  stats                        # æ˜¾ç¤ºç¼“å­˜ç»Ÿè®¡

é€‰é¡¹:
  -h, --help                   # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
  --json                       # JSONæ ¼å¼è¾“å‡º
  --level <level>              # ç¼“å­˜çº§åˆ« (l1|l2|all)
  --force                      # å¼ºåˆ¶æ‰§è¡Œæ“ä½œ

# ä½¿ç”¨ç¤ºä¾‹
gs-tools-cache status                    # æ˜¾ç¤ºç¼“å­˜çŠ¶æ€
gs-tools-cache clean                     # æ¸…ç†è¿‡æœŸç¼“å­˜
gs-tools-cache clear --level l1          # æ¸…ç©ºL1ç¼“å­˜
gs-tools-cache rebuild                   # é‡å»ºç¼“å­˜ç´¢å¼•
gs-tools-cache stats --json              # JSONæ ¼å¼ç»Ÿè®¡ä¿¡æ¯
```

## ğŸ“¤ è¾“å‡ºæ ¼å¼è§„èŒƒ

### 8.1 æ ‡å‡†è¾“å‡ºæ ¼å¼

#### æ–‡æœ¬æ ¼å¼ (é»˜è®¤)
```bash
# è¡¨æ ¼æ ¼å¼
printf "%-20s %-10s %-40s\n" "åç§°" "çŠ¶æ€" "æè¿°"
printf "%-20s %-10s %-40s\n" "----" "----" "----"

# åˆ—è¡¨æ ¼å¼
echo "â€¢ é¡¹ç›®1: å€¼1"
echo "â€¢ é¡¹ç›®2: å€¼2"

# çŠ¶æ€æ ¼å¼
echo "âœ“ æˆåŠŸæ“ä½œ"
echo "âœ— å¤±è´¥æ“ä½œ"  
echo "â—‹ ä¸­æ€§çŠ¶æ€"
echo "âš  è­¦å‘Šä¿¡æ¯"
```

#### JSONæ ¼å¼
```json
{
  "status": "success|error|warning",
  "message": "æ“ä½œç»“æœæè¿°",
  "data": {
    // å®é™…æ•°æ®å†…å®¹
  },
  "meta": {
    "timestamp": "2025-05-01T10:30:25Z",
    "version": "3.0.0",
    "command": "gs-plugins-list"
  }
}
```

### 8.2 é”™è¯¯è¾“å‡ºè§„èŒƒ

#### é”™è¯¯ä¿¡æ¯æ ¼å¼
```bash
# æ ‡å‡†é”™è¯¯æ ¼å¼
error_format() {
    cat << EOF
é”™è¯¯: $error_message

åŸå› : $error_cause

å»ºè®®: $error_suggestion

ä½¿ç”¨ 'gs-help $command_name' è·å–å¸®åŠ©
EOF
}

# JSONé”™è¯¯æ ¼å¼
{
  "status": "error",
  "error": {
    "code": "CONFIG_NOT_FOUND",
    "message": "é…ç½®æ–‡ä»¶ä¸å­˜åœ¨",
    "details": "æ–‡ä»¶è·¯å¾„: ~/.gs/config.json",
    "suggestions": [
      "è¿è¡Œ 'gs-config-init' åˆå§‹åŒ–é…ç½®",
      "æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®"
    ]
  },
  "meta": {
    "timestamp": "2025-05-01T10:30:25Z",
    "command": "gs-config-get"
  }
}
```

### 8.3 è¿›åº¦å’ŒçŠ¶æ€æ˜¾ç¤º

#### è¿›åº¦æ¡
```bash
# ç®€å•è¿›åº¦æ¡
show_progress() {
    local current="$1"
    local total="$2"
    local width=50
    local percent=$((current * 100 / total))
    local filled=$((current * width / total))
    
    printf "\r["
    printf "%*s" $filled | tr ' ' '='
    printf "%*s" $((width - filled)) | tr ' ' '-'
    printf "] %d%% (%d/%d)" $percent $current $total
}

# ä½¿ç”¨ç¤ºä¾‹
for i in {1..100}; do
    show_progress $i 100
    sleep 0.1
done
echo
```

#### çŠ¶æ€æŒ‡ç¤ºå™¨
```bash
# çŠ¶æ€ç¬¦å·å®šä¹‰
declare -A STATUS_SYMBOLS=(
    ["success"]="âœ“"
    ["error"]="âœ—"
    ["warning"]="âš "
    ["info"]="â„¹"
    ["loading"]="âŸ³"
    ["disabled"]="â—‹"
)

# å½©è‰²çŠ¶æ€æ˜¾ç¤º
show_status() {
    local status="$1"
    local message="$2"
    local symbol="${STATUS_SYMBOLS[$status]}"
    
    case "$status" in
        "success") echo -e "\033[32m$symbol\033[0m $message" ;;
        "error")   echo -e "\033[31m$symbol\033[0m $message" ;;
        "warning") echo -e "\033[33m$symbol\033[0m $message" ;;
        *)         echo "$symbol $message" ;;
    esac
}
```

## ğŸ”’ å®‰å…¨å’Œæƒé™

### 9.1 æƒé™æ£€æŸ¥
```bash
# æƒé™éªŒè¯å‡½æ•°
check_permissions() {
    local operation="$1"
    local resource="$2"
    
    case "$operation" in
        "config_write")
            check_config_write_permission "$resource"
            ;;
        "plugin_install")
            check_plugin_install_permission "$resource"
            ;;
        "system_modify")
            check_system_modify_permission "$resource"
            ;;
    esac
}
```

### 9.2 è¾“å…¥éªŒè¯
```bash
# è¾“å…¥éªŒè¯è§„èŒƒ
validate_input() {
    local input_type="$1"
    local input_value="$2"
    
    case "$input_type" in
        "plugin_name")
            [[ "$input_value" =~ ^[a-z][a-z0-9_-]*$ ]] || return 1
            ;;
        "config_key")
            [[ "$input_value" =~ ^[a-zA-Z_][a-zA-Z0-9_.]*$ ]] || return 1
            ;;
        "file_path")
            [[ -z "${input_value//[^\/]}" ]] || return 1  # ç®€å•è·¯å¾„æ£€æŸ¥
            ;;
    esac
}
```

è¿™ä¸ªæ¥å£è®¾è®¡è§„èŒƒä¸ºGlobal Scripts V3æä¾›äº†å®Œæ•´ã€ä¸€è‡´çš„å‘½ä»¤æ¥å£å®šä¹‰ï¼Œç¡®ä¿æ‰€æœ‰å‘½ä»¤éƒ½éµå¾ªç»Ÿä¸€çš„æ ‡å‡†ï¼Œæä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚