# CLI å‘½ä»¤å‚è€ƒ

Global Scripts å®Œæ•´å‘½ä»¤è¡Œæ¥å£å‚è€ƒæ–‡æ¡£ã€‚

## å‘½ä»¤æ ¼å¼

```bash
gs [ç³»ç»Ÿå‘½ä»¤]
gs plugin [æ’ä»¶ç®¡ç†å‘½ä»¤] [å‚æ•°]
gs <æ’ä»¶å> <å­æ’ä»¶å> <å‡½æ•°å> [å‚æ•°...]
```

## ç³»ç»Ÿå‘½ä»¤

### gs help

æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚

```bash
gs help
gs --help
gs -h
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
ğŸš€ Global Scripts æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‘½ä»¤                    â”‚ æè¿°         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ gs <åç§°> <å‘½ä»¤> [ç”¨æ³•] â”‚ åŸºæœ¬ä¿¡æ¯     â”‚
â”‚ gs help                 â”‚ æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ â”‚
â”‚ gs version              â”‚ æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ â”‚
â”‚ gs status               â”‚ æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€ â”‚
â”‚ gs doctor               â”‚ ç³»ç»Ÿè¯Šæ–­     â”‚
â”‚ gs refresh              â”‚ åˆ·æ–°ç³»ç»Ÿ     â”‚
â”‚ gs plugin list          â”‚ åˆ—å‡ºæ‰€æœ‰æ’ä»¶ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### gs version

æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚

```bash
gs version
gs --version
```

### gs status

æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€ä¿¡æ¯ã€‚

```bash
gs status
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
ğŸ”§ æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å±æ€§     â”‚ å€¼                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çŠ¶æ€     â”‚ âœ… å·²å¯ç”¨                                         â”‚
â”‚ æ€»æ’ä»¶æ•° â”‚ 10                                                â”‚
â”‚ å·²å¯ç”¨   â”‚ 10                                                â”‚
â”‚ å·²ç¦ç”¨   â”‚ 0                                                 â”‚
â”‚ æ€»å‘½ä»¤æ•° â”‚ 191                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### gs refresh

åˆ·æ–°æ’ä»¶ç³»ç»Ÿå’Œè¡¥å…¨è„šæœ¬ã€‚

```bash
gs refresh
```

ä½œç”¨ï¼š
- é‡æ–°æ‰«ææ’ä»¶ç›®å½•
- é‡æ–°ç”Ÿæˆè¡¥å…¨è„šæœ¬
- é‡å»º router ç´¢å¼•
- é‡æ–°åŠ è½½é…ç½®

### gs doctor

ç³»ç»Ÿå¥åº·æ£€æŸ¥ã€‚

```bash
gs doctor
```

æ£€æŸ¥é¡¹ï¼š
- Python ç‰ˆæœ¬
- å¿…éœ€æ–‡ä»¶å­˜åœ¨æ€§
- é…ç½®æ–‡ä»¶æœ‰æ•ˆæ€§
- æ’ä»¶åŠ è½½çŠ¶æ€
- ç¯å¢ƒå˜é‡è®¾ç½®

## æ’ä»¶ç®¡ç†å‘½ä»¤

### gs plugin list

åˆ—å‡ºæ‰€æœ‰æ’ä»¶ã€‚

```bash
gs plugin list
```

è¾“å‡ºä¸ºè¡¨æ ¼æ ¼å¼ï¼ŒåŒ…å«æ’ä»¶åç§°ã€çŠ¶æ€ã€ç±»å‹ã€ä¼˜å…ˆçº§ã€ç‰ˆæœ¬ã€å‘½ä»¤æ•°é‡å’Œæè¿°ã€‚

### gs plugin info

æŸ¥çœ‹æ’ä»¶è¯¦ç»†ä¿¡æ¯ã€‚

```bash
gs plugin info <æ’ä»¶å>
```

ç¤ºä¾‹ï¼š
```bash
gs plugin info android
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
ğŸ”Œ æ’ä»¶è¯¦æƒ…: android
================================================================================

ğŸ“‹ åŸºæœ¬ä¿¡æ¯:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å±æ€§     â”‚ å€¼          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åç§°     â”‚ android     â”‚
â”‚ çŠ¶æ€     â”‚ âœ… å·²å¯ç”¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“œ å¯ç”¨å‘½ä»¤è¡¨æ ¼ï¼ˆåŒ…å«å‘½ä»¤ã€å­æ’ä»¶ã€å‡½æ•°ã€ç±»å‹ã€ç”¨æ³•ã€æè¿°ï¼‰
```

### gs plugin enable

å¯ç”¨æ’ä»¶ã€‚

```bash
gs plugin enable <æ’ä»¶å>
```

ç¤ºä¾‹ï¼š
```bash
gs plugin enable gerrit
```

### gs plugin disable

ç¦ç”¨æ’ä»¶ã€‚

```bash
gs plugin disable <æ’ä»¶å>
```

ç¤ºä¾‹ï¼š
```bash
gs plugin disable gerrit
```

## æ’ä»¶å‘½ä»¤æ‰§è¡Œ

### åŸºæœ¬æ ¼å¼

```bash
gs <æ’ä»¶å> <å­æ’ä»¶å> <å‡½æ•°å> [å‚æ•°...]
```

### ç¤ºä¾‹

#### Android æ’ä»¶

```bash
# Logcat ç®¡ç†
gs android logcat clear
gs android logcat tail
gs android logcat filter TAG

# è®¾å¤‡ç®¡ç†
gs android device devices       # åˆ—å‡ºè¿æ¥è®¾å¤‡
gs android device connect 192.168.1.100
gs android device screencap

# åº”ç”¨ç®¡ç†
gs android app list-3rd
gs android app version com.example.app
gs android app clear com.example.app

# ç³»ç»Ÿç®¡ç†
gs android system selinux-disable
gs android system hidden-api-enable
```

#### System æ’ä»¶

```bash
# æ—¥å¿—ç®¡ç†ï¼ˆå¦‚æœæ’ä»¶æ”¯æŒï¼‰
gs system logging level DEBUG
gs system logging show
gs system logging clear
```

æ³¨æ„ï¼šå®é™…å¯ç”¨å‘½ä»¤è¯·ä½¿ç”¨ `gs plugin info <æ’ä»¶å>` æŸ¥çœ‹ã€‚

## å¿«æ·å‘½ä»¤

ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ shell å‡½æ•°å¿«æ·å‘½ä»¤ï¼š

```bash
# æ ¼å¼: gs-<æ’ä»¶>-<å­æ’ä»¶>-<å‡½æ•°>

# åŸå‘½ä»¤:
gs android logcat clear

# å¿«æ·å‘½ä»¤:
gs-android-logcat-clear
```

## è¡¥å…¨åŠŸèƒ½

### Bash è¡¥å…¨

æŒ‰ Tab é”®è‡ªåŠ¨è¡¥å…¨ï¼š

```bash
gs <Tab>          # è¡¥å…¨æ’ä»¶åå’Œç³»ç»Ÿå‘½ä»¤
gs plugin <Tab>   # è¡¥å…¨æ’ä»¶ç®¡ç†å­å‘½ä»¤
gs android <Tab>  # è¡¥å…¨ android çš„å­æ’ä»¶
```

### Zsh è¡¥å…¨

Zsh ç”¨æˆ·è‡ªåŠ¨è·å¾—è¡¥å…¨æ”¯æŒï¼ŒåŠŸèƒ½åŒ Bashã€‚

### Fish è¡¥å…¨

Fish ç”¨æˆ·è‡ªåŠ¨è·å¾—è¡¥å…¨æ”¯æŒï¼ŒåŠŸèƒ½åŒ Bashã€‚

## ç¯å¢ƒå˜é‡

ä»¥ä¸‹ç¯å¢ƒå˜é‡ç”±ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ï¼Œé€šå¸¸ä¸éœ€è¦ç”¨æˆ·æ‰‹åŠ¨è®¾ç½®ï¼š

### GS_ROOT

é¡¹ç›®æ ¹ç›®å½•ï¼Œç”±å®‰è£…è„šæœ¬è‡ªåŠ¨è®¾ç½®ã€‚

```bash
# è‡ªåŠ¨è®¾ç½®ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
echo $GS_ROOT
```

### GS_LANGUAGE

ç•Œé¢è¯­è¨€ï¼ˆå¯é€‰ï¼‰ã€‚

```bash
# å¦‚éœ€åˆ‡æ¢è¯­è¨€ï¼Œå¯åœ¨ shell é…ç½®æ–‡ä»¶ä¸­è®¾ç½®
export GS_LANGUAGE="zh"  # æˆ– "en"
```

### GS_DEBUG

å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼ˆå¯é€‰ï¼‰ã€‚

```bash
# ç”¨äºè°ƒè¯•æ—¶ä¸´æ—¶å¯ç”¨
export GS_DEBUG=1
```

### GS_LOG_LEVEL

æ—¥å¿—çº§åˆ«ï¼ˆå¯é€‰ï¼‰ã€‚

```bash
# å¯é€‰å€¼: ERROR/WARNING/INFO/DEBUG/VERBOSE/NANO
export GS_LOG_LEVEL="DEBUG"
```

## é€€å‡ºç 

| é€€å‡ºç  | å«ä¹‰ |
|-------|------|
| 0 | æˆåŠŸ |
| 1 | ä¸€èˆ¬é”™è¯¯ |
| 2 | å‘½ä»¤ä½¿ç”¨é”™è¯¯ |
| 124 | è¶…æ—¶ |
| 126 | æ‰§è¡Œé”™è¯¯ |
| 127 | å‘½ä»¤æœªæ‰¾åˆ° |
| 130 | ç”¨æˆ·ä¸­æ–­ (Ctrl+C) |

## å¸¸è§ç”¨æ³•

### æ—¥å¸¸å¼€å‘

```bash
# æŸ¥çœ‹æ—¥å¿—
gs android logcat tail

# åˆ—å‡ºè®¾å¤‡
gs android device devices

# æŸ¥çœ‹åº”ç”¨ç‰ˆæœ¬
gs android app version com.example.app
```

### æ’ä»¶ç®¡ç†

```bash
# æŸ¥çœ‹æ‰€æœ‰æ’ä»¶
gs plugin list

# æŸ¥çœ‹æ’ä»¶è¯¦æƒ…
gs plugin info android

# å¯ç”¨æ–°æ’ä»¶
gs plugin enable myplugin

# åˆ·æ–°ç³»ç»Ÿ
gs refresh
```

### æ•…éšœæ’æŸ¥

```bash
# ç³»ç»Ÿæ£€æŸ¥
gs doctor

# æŸ¥çœ‹çŠ¶æ€
gs status

# æŸ¥çœ‹æ’ä»¶ä¿¡æ¯
gs plugin info <æ’ä»¶å>
```

## æ›´å¤šä¿¡æ¯

- [å¿«é€Ÿå…¥é—¨](./quickstart.md) - å¿«é€Ÿä¸Šæ‰‹æŒ‡å—
- [æ’ä»¶å¼€å‘](./plugin-development.md) - æ’ä»¶å¼€å‘æŒ‡å—
- [FAQ](./faq.md) - å¸¸è§é—®é¢˜è§£ç­”
